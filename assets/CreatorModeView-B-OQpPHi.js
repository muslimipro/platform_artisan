import{a as M,r as n,o as N,b as t,e as s,f as c,i as R,h as e,t as r,P as $,aE as j,F as _,k as x,D as q,q as D,m as E}from"./index-n3daKGCc.js";import{s as P}from"./index-BDWHL-kk.js";import{s as T}from"./index-BqbdjUlk.js";import{h as z}from"./http-BEt-6spR.js";import{_ as F}from"./AHeader.vue_vue_type_script_setup_true_lang-DwbVwjwX.js";import"./index-c-XKspjc.js";import"./index-eM3voxb6.js";import"./index-Cxe1QBz0.js";import"./logo-D1-3uCnC.js";import"./StudentViewToggle.vue_vue_type_script_setup_true_lang-DQygniFN.js";import"./index-xAwojxg2.js";import"./index-ChwKPPkr.js";import"./index-BTdhpGXM.js";import"./index-BRSnIgLR.js";import"./index-DKyGrjq1.js";import"./index-DHuZLmic.js";import"./index-D57r3cjp.js";import"./index-B39dc3Cm.js";import"./profile-CU0o5RSC.js";import"./index-D4py3QaC.js";import"./index-Bx3v-khi.js";const G={GetRoadmap:L};async function L(b){const{data:u}=await z.post("/ai/roadmap",{prompt:b});return u}const S={class:"flex flex-col items-center min-h-screen bg-slate-50 gap-6"},U={key:1,class:"flex flex-1 justify-center px-4 md:px-28 py-8"},A={class:"flex gap-8"},H={key:0,class:"flex flex-col"},I={class:"relative flex flex-col justify-between w-[800px] min-h-28 bg-purple-100 border border-gray-100 rounded-3xl p-2 gap-2 shadow-md shadow-purple-300"},J={class:"absolute right-5 bottom-5"},K={key:1,class:"flex flex-col w-full h-full gap-4"},O={class:"relative flex bg-slate-50 border border-gray-100 rounded-3xl p-5"},Q={class:"flex flex-col flex-1"},W={class:"text-xl font-bold"},X={key:0,class:"flex flex-col gap-2 w-full"},Y=["disabled"],Z={key:1,class:"flex items-center gap-2 text-xl"},ee={class:"relative flex bg-slate-100 border border-gray-100 rounded-3xl p-5 gap-5"},te={class:"bg-white border border-gray-200 rounded-2xl p-4 w-1/3"},se={class:"list-disc list-inside space-y-1"},le=["href"],oe={key:1},ae={class:"bg-white border border-gray-200 rounded-2xl p-4 w-2/3"},re={class:"list-decimal list-inside space-y-2"},ne={class:"text-xl font-bold"},Re=M({__name:"CreatorModeView",setup(b){const u=D(),p=n(!0),i=n(!1),m=n(!1),g=n(""),h=n([]),y=n([]),a=n("");async function f(){if(a.value!="")try{i.value=!0;const d=await G.GetRoadmap(a.value);g.value="Мой проект",h.value=d.plan,y.value=d.components,p.value=!1,m.value=!1}catch(d){console.error("Ошибка при получении плана",d)}finally{i.value=!1}}return N(()=>{u.query.message&&(a.value=u.query.message,a.value.length>5&&(p.value=!1,f()))}),(d,o)=>{const V=T,C=P,k=E;return t(),s("div",S,[c(F,{class:"sticky top-0 z-10"}),i.value?(t(),R(V,{key:0})):(t(),s("div",U,[e("div",A,[p.value?(t(),s("div",H,[e("div",I,[c(C,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=l=>a.value=l),placeholder:"Я хочу сделать ...",variant:"filled",rows:"10",cols:"30",class:"bg-purple-50 w-full rounded-2xl h-36"},null,8,["modelValue"]),e("div",J,[c(k,{label:"Получить план",severity:"help",class:"rounded-2xl bg-purple-400 border border-purple-400",loading:i.value,onClick:f},null,8,["loading"])])])])):(t(),s("div",K,[e("div",O,[e("div",Q,[e("h2",W,r(g.value),1),m.value?(t(),s("div",X,[$(e("textarea",{"onUpdate:modelValue":o[1]||(o[1]=l=>a.value=l),disabled:i.value,class:"border rounded px-2 py-1 h-[80px] w-full resize-none text-xl disabled:bg-gray-100"},null,8,Y),[[j,a.value]]),c(k,{label:"Изменить план",severity:"help",class:"rounded-full bg-purple-400 border border-purple-500 text-sm",loading:i.value,onClick:f},null,8,["loading"])])):(t(),s("div",Z,[e("span",null,r(a.value),1),e("button",{onClick:o[2]||(o[2]=l=>m.value=!0),class:"text-gray-500 hover:text-purple-500 transition-colors",title:"Редактировать"}," ✏️ ")]))])]),e("div",ee,[e("div",te,[o[3]||(o[3]=e("h3",{class:"font-semibold mb-2"},"Компоненты",-1)),e("ul",se,[(t(!0),s(_,null,x(y.value,(l,v)=>(t(),s("li",{key:v},[l.url!=""?(t(),s("a",{key:0,href:l.url,target:"_blank",rel:"noopener noreferrer",class:"font-bold"},r(l.name),9,le)):(t(),s("span",oe,r(l.name),1)),q(" ("+r(l.count)+") ",1)]))),128))])]),e("div",ae,[o[4]||(o[4]=e("h3",{class:"font-semibold mb-2"},"План работы",-1)),e("div",re,[(t(!0),s(_,null,x(h.value,(l,v)=>(t(),s("div",{key:v},[e("h2",ne,r(l.name),1),(t(!0),s(_,null,x(l.steps,(B,w)=>(t(),s("div",{key:w},r(w+1)+") "+r(B),1))),128))]))),128))])])])]))])]))])}}});export{Re as default};
