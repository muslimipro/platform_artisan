import{s as R}from"./index-DfL6EWoo.js";import{d as k,u as S,r as g,a as w,s as B,o as L,b as s,e as o,f as C,g as a,h as e,i as N,t as r,F as x,k as _,n as v,q as F}from"./index-6znFarQA.js";import{_ as I}from"./MainHeader.vue_vue_type_script_setup_true_lang-DlqRvo8q.js";import{R as T,m as $}from"./mapRouteFromDto-C40SZlZN.js";import"./http-2Rpmxk3G.js";import{g as j}from"./groupLessonsByLevelAndType-D70aJuVS.js";import"./index-fQzns-h5.js";import"./index-D_V3hPtc.js";import"./mapLessonFromDto-Dmd7ExqT.js";import"./mapUnitFromDto-CYGc5n9V.js";const A=k("route-store",()=>{const y=S(),l=g(null),c=g({}),i=g(!1);async function n(u){var p,f;try{i.value=!0;const{data:d}=await T.getRouteById(u);l.value=$(d),c.value=j(((p=l.value)==null?void 0:p.lessons)??[],((f=l.value)==null?void 0:f.levels)??[])}catch(d){y.add({severity:"error",summary:d.response.data.error,life:2e3})}finally{i.value=!1}}return{selectedRoute:l,isRouteLoading:i,groupedLessons:c,loadRouteById:n}}),D={class:"flex flex-col items-center h-screen"},P={class:"w-full h-full max-w-screen-xl px-4 md:px-28 py-8"},V={key:1,class:"flex justify-center"},q={key:2,class:"flex flex-col gap-8"},z={class:"flex flex-col bg-gray-50 px-8 py-4 rounded-3xl"},E={class:"text-2xl"},M={class:"text-lg text-gray-500"},G={class:"flex flex-wrap gap-8"},H={class:"flex flex-wrap gap-8"},oe=w({__name:"RoutePage",setup(y){const l=F(),c=A(),{isRouteLoading:i,selectedRoute:n,groupedLessons:u}=B(c),{loadRouteById:p}=c,f=["bg-green-50","bg-blue-50"],d=["text-green-600","text-blue-600"];return L(()=>p(Number(l.params.id))),(J,K)=>{const b=R;return s(),o("div",D,[C(a(I)),e("div",P,[a(i)?(s(),N(b,{key:0,class:"flex justify-center"})):a(n)?(s(),o("div",q,[e("div",z,[e("div",E,r(a(n).name),1),e("div",M,r(a(n).description),1)]),(s(!0),o(x,null,_(a(n).levels,(m,h)=>(s(),o("div",{key:m.id,class:"flex flex-col items-center gap-8"},[e("div",{class:v(["py-1 px-4 text-lg font-semibold w-fit rounded-lg",`${f[h]} ${d[h]}`])},r(m.name),3),e("div",G,[(s(!0),o(x,null,_(a(u)[m.id].learn,t=>(s(),o("div",{key:t.id},[e("div",{class:v(["p-4 rounded-3xl h-40 w-56",t.accessStatus=="available"?"bg-green-50":"bg-gray-50"])},[e("div",null,r(t.name),1),e("div",null,r(t.accessStatus),1)],2)]))),128))]),e("div",H,[(s(!0),o(x,null,_(a(u)[m.id].practice,t=>(s(),o("div",{key:t.id},[e("div",{class:v(["p-4 rounded-3xl h-40 w-56",t.accessStatus=="available"?"bg-green-50":"bg-gray-50"])},[e("div",null,r(t.name),1),e("div",null,r(t.accessStatus),1)],2)]))),128))])]))),128))])):(s(),o("div",V,"No route found"))])])}}});export{oe as default};
