import{s as h}from"./index-DdnvMuWm.js";import{d as C,r as g,m as V,o as e,c,b as B,e as d,t as o,f as a,w as i,g as l,h as u,j as v,F as N,n as S,k as T,s as w}from"./index-06dapWEh.js";import{s as x}from"./index-XkW4Jefx.js";import{_ as E}from"./AuthHeader.vue_vue_type_script_setup_true_lang-HSope6xQ.js";import{a as A}from"./index-D8v7f4pp.js";import"./logo-DIHTJwoc.js";import"./index-D6Q7kcZY.js";import"./LocaleSwitcher.vue_vue_type_script_setup_true_lang-DIK7zgj_.js";import"./index-BsTfKa1U.js";import"./index-Ttz5dvpZ.js";import"./index-Db1rzZhZ.js";const F={class:"card flex flex-col items-center pt-4 gap-4"},I={class:"text-2xl"},M={key:0},R={key:1},Q=C({__name:"VerifyChangeEmail",setup(b){const _=S(),m=T(),s=g(!1),r=g(null);async function y(){s.value=!0;try{await A.verifyChangeEmail(_.query.token),r.value=!0}catch(t){r.value=!1,console.log(t)}finally{s.value=!1}}return V(()=>{y()}),(t,n)=>{const p=x,f=w,k=h;return e(),c(N,null,[B(E),d("div",F,[d("div",I,o(t.$t("pages.login.emailVerification")),1),s.value?u("",!0):(e(),c("div",M,[r.value==!0?(e(),a(p,{key:0,severity:"success"},{default:i(()=>[l(o(t.$t("pages.login.emailSuccessfullyChangedAndVerified")),1)]),_:1})):(e(),a(p,{key:1,severity:"error"},{default:i(()=>[l(o(t.$t("pages.login.tokenIsInvalidTryAgain")),1)]),_:1}))])),s.value?u("",!0):(e(),c("div",R,[r.value==!0?(e(),a(f,{key:0,onClick:n[0]||(n[0]=$=>v(m).replace("/"))},{default:i(()=>[l(o(t.$t("pages.login.goToHome")),1)]),_:1})):(e(),a(f,{key:1,onClick:n[1]||(n[1]=$=>v(m).replace("/settings/change-email"))},{default:i(()=>[l(o(t.$t("pages.login.goToSettings")),1)]),_:1}))])),s.value?(e(),a(k,{key:2})):u("",!0)])],64)}}});export{Q as default};
