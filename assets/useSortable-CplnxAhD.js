import{W as ft,o as le,c as Ee,a as Ne,v as te,X as Qt,Y as bt,ax as en,av as tn,F as nn,k as on,U as yt,h as wt,a7 as Et,ag as Ct,aI as rn,r as re,n as an,aJ as ln,aK as sn,l as un,q as Ft,p as cn,A as lt,aL as dn}from"./index-DwxPZ37a.js";import{b as fn}from"./index-BJ8cUkRK.js";var Mt={name:"BanIcon",extends:ft};function pn(t,e,n,i,o,r){return le(),Ee("svg",te({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),e[0]||(e[0]=[Ne("path",{d:"M7 0C5.61553 0 4.26215 0.410543 3.11101 1.17971C1.95987 1.94888 1.06266 3.04213 0.532846 4.32122C0.00303296 5.6003 -0.13559 7.00776 0.134506 8.36563C0.404603 9.7235 1.07129 10.9708 2.05026 11.9497C3.02922 12.9287 4.2765 13.5954 5.63437 13.8655C6.99224 14.1356 8.3997 13.997 9.67879 13.4672C10.9579 12.9373 12.0511 12.0401 12.8203 10.889C13.5895 9.73785 14 8.38447 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0ZM1.16667 7C1.16549 5.65478 1.63303 4.35118 2.48889 3.31333L10.6867 11.5111C9.83309 12.2112 8.79816 12.6544 7.70243 12.789C6.60669 12.9236 5.49527 12.744 4.49764 12.2713C3.50001 11.7986 2.65724 11.0521 2.06751 10.1188C1.47778 9.18558 1.16537 8.10397 1.16667 7ZM11.5111 10.6867L3.31334 2.48889C4.43144 1.57388 5.84966 1.10701 7.29265 1.1789C8.73565 1.2508 10.1004 1.85633 11.1221 2.87795C12.1437 3.89956 12.7492 5.26435 12.8211 6.70735C12.893 8.15034 12.4261 9.56856 11.5111 10.6867Z",fill:"currentColor"},null,-1)]),16)}Mt.render=pn;var Lt={name:"StarIcon",extends:ft};function hn(t,e,n,i,o,r){return le(),Ee("svg",te({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),e[0]||(e[0]=[Ne("path",{d:"M10.9741 13.6721C10.8806 13.6719 10.7886 13.6483 10.7066 13.6033L7.00002 11.6545L3.29345 13.6033C3.19926 13.6539 3.09281 13.6771 2.98612 13.6703C2.87943 13.6636 2.77676 13.6271 2.6897 13.5651C2.60277 13.5014 2.53529 13.4147 2.4948 13.3148C2.45431 13.215 2.44241 13.1058 2.46042 12.9995L3.17881 8.87264L0.167699 5.95324C0.0922333 5.8777 0.039368 5.78258 0.0150625 5.67861C-0.00924303 5.57463 -0.00402231 5.46594 0.030136 5.36477C0.0621323 5.26323 0.122141 5.17278 0.203259 5.10383C0.284377 5.03488 0.383311 4.99023 0.488681 4.97501L4.63087 4.37126L6.48797 0.618832C6.54083 0.530159 6.61581 0.456732 6.70556 0.405741C6.79532 0.35475 6.89678 0.327942 7.00002 0.327942C7.10325 0.327942 7.20471 0.35475 7.29447 0.405741C7.38422 0.456732 7.4592 0.530159 7.51206 0.618832L9.36916 4.37126L13.5114 4.97501C13.6167 4.99023 13.7157 5.03488 13.7968 5.10383C13.8779 5.17278 13.9379 5.26323 13.9699 5.36477C14.0041 5.46594 14.0093 5.57463 13.985 5.67861C13.9607 5.78258 13.9078 5.8777 13.8323 5.95324L10.8212 8.87264L11.532 12.9995C11.55 13.1058 11.5381 13.215 11.4976 13.3148C11.4571 13.4147 11.3896 13.5014 11.3027 13.5651C11.2059 13.632 11.0917 13.6692 10.9741 13.6721ZM7.00002 10.4393C7.09251 10.4404 7.18371 10.4613 7.2675 10.5005L10.2098 12.029L9.65193 8.75036C9.6368 8.6584 9.64343 8.56418 9.6713 8.47526C9.69918 8.38633 9.74751 8.30518 9.81242 8.23832L12.1969 5.94559L8.90298 5.45648C8.81188 5.44198 8.72555 5.406 8.65113 5.35152C8.57671 5.29703 8.51633 5.2256 8.475 5.14314L7.00002 2.1626L5.52503 5.15078C5.4837 5.23324 5.42332 5.30467 5.3489 5.35916C5.27448 5.41365 5.18815 5.44963 5.09705 5.46412L1.80318 5.94559L4.18761 8.23832C4.25252 8.30518 4.30085 8.38633 4.32873 8.47526C4.3566 8.56418 4.36323 8.6584 4.3481 8.75036L3.7902 12.0519L6.73253 10.5234C6.81451 10.4762 6.9058 10.4475 7.00002 10.4393Z",fill:"currentColor"},null,-1)]),16)}Lt.render=hn;var kt={name:"StarFillIcon",extends:ft};function gn(t,e,n,i,o,r){return le(),Ee("svg",te({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),e[0]||(e[0]=[Ne("path",{d:"M13.9718 5.36453C13.9398 5.26298 13.8798 5.17252 13.7986 5.10356C13.7175 5.0346 13.6186 4.98994 13.5132 4.97472L9.37043 4.37088L7.51307 0.617955C7.46021 0.529271 7.38522 0.455834 7.29545 0.404836C7.20568 0.353838 7.1042 0.327026 7.00096 0.327026C6.89771 0.327026 6.79624 0.353838 6.70647 0.404836C6.6167 0.455834 6.54171 0.529271 6.48885 0.617955L4.63149 4.37088L0.488746 4.97472C0.383363 4.98994 0.284416 5.0346 0.203286 5.10356C0.122157 5.17252 0.0621407 5.26298 0.03014 5.36453C-0.00402286 5.46571 -0.00924428 5.57442 0.0150645 5.67841C0.0393733 5.7824 0.0922457 5.87753 0.167722 5.95308L3.17924 8.87287L2.4684 13.0003C2.45038 13.1066 2.46229 13.2158 2.50278 13.3157C2.54328 13.4156 2.61077 13.5022 2.6977 13.5659C2.78477 13.628 2.88746 13.6644 2.99416 13.6712C3.10087 13.678 3.20733 13.6547 3.30153 13.6042L7.00096 11.6551L10.708 13.6042C10.79 13.6491 10.882 13.6728 10.9755 13.673C11.0958 13.6716 11.2129 13.6343 11.3119 13.5659C11.3988 13.5022 11.4663 13.4156 11.5068 13.3157C11.5473 13.2158 11.5592 13.1066 11.5412 13.0003L10.8227 8.87287L13.8266 5.95308C13.9033 5.87835 13.9577 5.7836 13.9833 5.67957C14.009 5.57554 14.005 5.4664 13.9718 5.36453Z",fill:"currentColor"},null,-1)]),16)}kt.render=gn;var vn=function(e){var n=e.dt;return`
.p-rating {
    position: relative;
    display: flex;
    align-items: center;
    gap: `.concat(n("rating.gap"),`;
}

.p-rating-option {
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    outline-color: transparent;
    border-radius: 50%;
    transition: background `).concat(n("rating.transition.duration"),", color ").concat(n("rating.transition.duration"),", border-color ").concat(n("rating.transition.duration"),", outline-color ").concat(n("rating.transition.duration"),", box-shadow ").concat(n("rating.transition.duration"),`;
}

.p-rating-option.p-focus-visible {
    box-shadow: `).concat(n("rating.focus.ring.shadow"),`;
    outline: `).concat(n("rating.focus.ring.width")," ").concat(n("rating.focus.ring.style")," ").concat(n("rating.focus.ring.color"),`;
    outline-offset: `).concat(n("rating.focus.ring.offset"),`;
}

.p-rating-icon {
    color: `).concat(n("rating.icon.color"),`;
    transition: background `).concat(n("rating.transition.duration"),", color ").concat(n("rating.transition.duration"),", border-color ").concat(n("rating.transition.duration"),", outline-color ").concat(n("rating.transition.duration"),", box-shadow ").concat(n("rating.transition.duration"),`;
    font-size: `).concat(n("rating.icon.size"),`;
    width: `).concat(n("rating.icon.size"),`;
    height: `).concat(n("rating.icon.size"),`;
}

.p-rating:not(.p-disabled):not(.p-readonly) .p-rating-option:hover .p-rating-icon {
    color: `).concat(n("rating.icon.hover.color"),`;
}

.p-rating-option-active .p-rating-icon {
    color: `).concat(n("rating.icon.active.color"),`;
}

.p-rating-icon.p-invalid { /* @todo */
    stroke: `).concat(n("rating.invalid.icon.color"),`;
}
`)},mn={root:function(e){var n=e.props;return["p-rating",{"p-readonly":n.readonly,"p-disabled":n.disabled}]},option:function(e){var n=e.instance,i=e.value;return["p-rating-option",{"p-rating-option-active":i<=n.d_value,"p-focus-visible":i===n.focusedOptionIndex&&n.isFocusVisibleItem}]},onIcon:function(e){var n=e.instance;return["p-rating-icon p-rating-on-icon",{"p-invalid":n.$invalid}]},offIcon:function(e){var n=e.instance;return["p-rating-icon p-rating-off-icon",{"p-invalid":n.$invalid}]}},bn=Qt.extend({name:"rating",theme:vn,classes:mn}),yn={name:"BaseRating",extends:fn,props:{readonly:{type:Boolean,default:!1},stars:{type:Number,default:5},onIcon:{type:String,default:void 0},offIcon:{type:String,default:void 0}},style:bn,provide:function(){return{$pcRating:this,$parentInstance:this}}},wn={name:"Rating",extends:yn,inheritAttrs:!1,emits:["change","focus","blur"],data:function(){return{d_name:this.name,focusedOptionIndex:-1,isFocusVisibleItem:!0}},watch:{name:function(e){this.d_name=e||bt()}},mounted:function(){this.d_name=this.d_name||bt()},methods:{getPTOptions:function(e,n){return this.ptm(e,{context:{active:n<=this.d_value,focused:n===this.focusedOptionIndex}})},onOptionClick:function(e,n){if(!this.readonly&&!this.disabled){this.onOptionSelect(e,n),this.isFocusVisibleItem=!1;var i=en(e.currentTarget);i&&tn(i)}},onFocus:function(e,n){this.focusedOptionIndex=n,this.$emit("focus",e)},onBlur:function(e){var n,i;this.focusedOptionIndex=-1,this.$emit("blur",e),(n=(i=this.formField).onBlur)===null||n===void 0||n.call(i)},onChange:function(e,n){this.onOptionSelect(e,n),this.isFocusVisibleItem=!0},onOptionSelect:function(e,n){this.focusedOptionIndex===n||this.d_value===n?(this.focusedOptionIndex=-1,this.updateModel(e,null)):(this.focusedOptionIndex=n,this.updateModel(e,n||null))},updateModel:function(e,n){this.writeValue(n,e),this.$emit("change",{originalEvent:e,value:n})},starAriaLabel:function(e){return e===1?this.$primevue.config.locale.aria.star:this.$primevue.config.locale.aria.stars.replace(/{star}/g,e)}},components:{StarFillIcon:kt,StarIcon:Lt,BanIcon:Mt}},En=["onClick","data-p-active","data-p-focused"],Cn=["value","name","checked","disabled","readonly","aria-label","onFocus","onChange"];function Sn(t,e,n,i,o,r){return le(),Ee("div",te({class:t.cx("root")},t.ptmi("root")),[(le(!0),Ee(nn,null,on(t.stars,function(a){return le(),Ee("div",te({key:a,class:t.cx("option",{value:a}),onClick:function(s){return r.onOptionClick(s,a)},ref_for:!0},r.getPTOptions("option",a),{"data-p-active":a<=t.d_value,"data-p-focused":a===o.focusedOptionIndex}),[Ne("span",te({class:"p-hidden-accessible",ref_for:!0},t.ptm("hiddenOptionInputContainer"),{"data-p-hidden-accessible":!0}),[Ne("input",te({type:"radio",value:a,name:o.d_name,checked:t.d_value===a,disabled:t.disabled,readonly:t.readonly,"aria-label":r.starAriaLabel(a),onFocus:function(s){return r.onFocus(s,a)},onBlur:e[0]||(e[0]=function(){return r.onBlur&&r.onBlur.apply(r,arguments)}),onChange:function(s){return r.onChange(s,a)},ref_for:!0},t.ptm("hiddenOptionInput")),null,16,Cn)],16),a<=t.d_value?yt(t.$slots,"onicon",{key:0,value:a,class:Ct(t.cx("onIcon"))},function(){return[(le(),wt(Et(t.onIcon?"span":"StarFillIcon"),te({class:[t.cx("onIcon"),t.onIcon],ref_for:!0},t.ptm("onIcon")),null,16,["class"]))]}):yt(t.$slots,"officon",{key:1,value:a,class:Ct(t.cx("offIcon"))},function(){return[(le(),wt(Et(t.offIcon?"span":"StarIcon"),te({class:[t.cx("offIcon"),t.offIcon],ref_for:!0},t.ptm("offIcon")),null,16,["class"]))]})],16,En)}),128))],16)}wn.render=Sn;const A=[];for(let t=0;t<256;++t)A.push((t+256).toString(16).slice(1));function Dn(t,e=0){return(A[t[e+0]]+A[t[e+1]]+A[t[e+2]]+A[t[e+3]]+"-"+A[t[e+4]]+A[t[e+5]]+"-"+A[t[e+6]]+A[t[e+7]]+"-"+A[t[e+8]]+A[t[e+9]]+"-"+A[t[e+10]]+A[t[e+11]]+A[t[e+12]]+A[t[e+13]]+A[t[e+14]]+A[t[e+15]]).toLowerCase()}let Ke;const _n=new Uint8Array(16);function In(){if(!Ke){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ke=crypto.getRandomValues.bind(crypto)}return Ke(_n)}const Tn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),St={randomUUID:Tn};function Le(t,e,n){if(St.randomUUID&&!e&&!t)return St.randomUUID();t=t||{};const i=t.random||(t.rng||In)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Dn(i)}const di=rn("useEditorStore",()=>{const t=re(null),e=re(null),n=re(null),i=re(null),o=re(null),r=re(null),a=re(!1),l=re(!1),s=an(()=>a.value||l.value);function u(p){t.value=p}function d(p){a.value=p}function f(p){l.value=p}function m(p){p!=null&&(t.value=p)}function C(p){t.value!=null&&(t.value.steps=p,a.value=!1,l.value=!1)}function y(p){t.value==null||e.value==null||(t.value.steps[e.value].title=p.title,t.value.steps[e.value].inner=p.inner)}function E(p,x){t.value!=null&&(t.value.steps.push({id:x.id,title:x.title,type:p,progress:"nothing",inner:{contents:[]},answer:{}}),e.value=t.value.steps.length-1)}function B(p){t.value==null||e.value==null||(t.value.steps[e.value].inner.contents.push({id:Le(),type:p,text:p=="text"?"":void 0,src:void 0}),n.value=t.value.steps[e.value].inner.contents.length-1)}function z(p,x,X){t.value==null||e.value==null||(n.value=X,(t.value.steps[e.value].inner.contents[n.value].type=="text"&&p!=null||t.value.steps[e.value].inner.contents[n.value].type=="video"&&p!=null)&&(t.value.steps[e.value].inner.contents[n.value].text=p))}function O(p){t.value==null||e.value==null||t.value.steps[e.value].inner.contents.splice(p,1)}function $(p){if(t.value==null)return;e.value=p;const x=t.value.steps[e.value].inner.contents.length;n.value=x>0?x-1:null}function F(){t.value==null||e.value==null||(t.value.steps[e.value].inner.options==null&&(t.value.steps[e.value].inner.options=[]),t.value.steps[e.value].inner.options.push({id:Le(),text:"",correct:!1}),i.value=t.value.steps[e.value].inner.options.length-1)}function J(p,x,X){t.value==null||e.value==null||t.value.steps[e.value].inner.options!=null&&(i.value=X,t.value.steps[e.value].inner.options[i.value].text=p,t.value.steps[e.value].inner.options[i.value].correct=x)}function W(p){t.value==null||e.value==null||t.value.steps[e.value].inner.options!=null&&(t.value.steps[e.value].inner.options.splice(p,1),t.value.steps[e.value].inner.options.length==0&&(t.value.steps[e.value].inner.options=void 0))}function Q(){t.value==null||e.value==null||(t.value.steps[e.value].inner.pairs==null&&(t.value.steps[e.value].inner.pairs=[]),t.value.steps[e.value].inner.pairs.push({id:Le(),key:"",value:""}),o.value=t.value.steps[e.value].inner.pairs.length-1)}function ce(p,x,X){t.value==null||e.value==null||t.value.steps[e.value].inner.pairs!=null&&(o.value=X,t.value.steps[e.value].inner.pairs[o.value].key=p,t.value.steps[e.value].inner.pairs[o.value].value=x)}function M(p){t.value==null||e.value==null||t.value.steps[e.value].inner.pairs!=null&&(t.value.steps[e.value].inner.pairs.splice(p,1),t.value.steps[e.value].inner.pairs.length==0&&(t.value.steps[e.value].inner.pairs=void 0))}function de(p){t.value==null||e.value==null||(t.value.steps[e.value].inner.userActions=p??void 0)}function Z(p){t.value==null||e.value==null||(t.value.steps[e.value].inner.platformActions=p??void 0)}function fe(){t.value==null||e.value==null||(t.value.steps[e.value].inner.highlights==null&&(t.value.steps[e.value].inner.highlights=[]),t.value.steps[e.value].inner.highlights.push({id:Le(),module:null,slot:null}),r.value=t.value.steps[e.value].inner.highlights.length-1)}function U(p,x,X){t.value==null||e.value==null||t.value.steps[e.value].inner.highlights!=null&&(r.value=X,t.value.steps[e.value].inner.highlights[r.value].module=p,t.value.steps[e.value].inner.highlights[r.value].slot=x)}function ee(p){t.value==null||e.value==null||t.value.steps[e.value].inner.highlights!=null&&(t.value.steps[e.value].inner.highlights.splice(p,1),t.value.steps[e.value].inner.highlights.length==0&&(t.value.steps[e.value].inner.highlights=void 0))}function pe(){t.value==null||e.value==null||t.value.steps.splice(e.value,1)}return{lesson:t,stepIndex:e,contentIndex:n,optionIndex:i,saving:s,addLesson:u,setLesson:m,setSteps:C,setStep:y,addStep:E,changeStep:$,addContent:B,saveContent:z,removeContent:O,addOption:F,saveOption:J,removeOption:W,addPair:Q,savePair:ce,removePair:M,saveUserActions:de,savePlatformActions:Z,addHighlight:fe,saveHighlight:U,removeHighlight:ee,removeStep:pe,setCardSaving:d,setStepSaving:f}});function On(t){return ln()?(sn(t),!0):!1}const xn=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function An(t){return cn()}function Pn(t,e=!0,n){An()?un(t,n):e?t():Ft(t)}const Nn=xn?window.document:void 0;function Fn(t){var e;const n=lt(t);return(e=n==null?void 0:n.$el)!=null?e:n}/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dt(Object(n),!0).forEach(function(i){Mn(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Xe(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xe=function(e){return typeof e}:Xe=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(t)}function Mn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ie(){return ie=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ie.apply(this,arguments)}function Ln(t,e){if(t==null)return{};var n={},i=Object.keys(t),o,r;for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function kn(t,e){if(t==null)return{};var n=Ln(t,e),i,o;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}var Rn="1.15.6";function ne(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var oe=ne(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Fe=ne(/Edge/i),_t=ne(/firefox/i),Te=ne(/safari/i)&&!ne(/chrome/i)&&!ne(/android/i),pt=ne(/iP(ad|od|hone)/i),Rt=ne(/chrome/i)&&ne(/android/i),Bt={capture:!1,passive:!1};function w(t,e,n){t.addEventListener(e,n,!oe&&Bt)}function b(t,e,n){t.removeEventListener(e,n,!oe&&Bt)}function ze(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function $t(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function V(t,e,n,i){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&ze(t,e):ze(t,e))||i&&t===n)return t;if(t===n)break}while(t=$t(t))}return null}var It=/\s+/g;function Y(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(It," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(It," ")}}function h(t,e,n){var i=t&&t.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=n+(typeof n=="string"?"":"px")}}function Ce(t,e){var n="";if(typeof t=="string")n=t;else do{var i=h(t,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function Xt(t,e,n){if(t){var i=t.getElementsByTagName(e),o=0,r=i.length;if(n)for(;o<r;o++)n(i[o],o);return i}return[]}function q(){var t=document.scrollingElement;return t||document.documentElement}function T(t,e,n,i,o){if(!(!t.getBoundingClientRect&&t!==window)){var r,a,l,s,u,d,f;if(t!==window&&t.parentNode&&t!==q()?(r=t.getBoundingClientRect(),a=r.top,l=r.left,s=r.bottom,u=r.right,d=r.height,f=r.width):(a=0,l=0,s=window.innerHeight,u=window.innerWidth,d=window.innerHeight,f=window.innerWidth),(e||n)&&t!==window&&(o=o||t.parentNode,!oe))do if(o&&o.getBoundingClientRect&&(h(o,"transform")!=="none"||n&&h(o,"position")!=="static")){var m=o.getBoundingClientRect();a-=m.top+parseInt(h(o,"border-top-width")),l-=m.left+parseInt(h(o,"border-left-width")),s=a+r.height,u=l+r.width;break}while(o=o.parentNode);if(i&&t!==window){var C=Ce(o||t),y=C&&C.a,E=C&&C.d;C&&(a/=E,l/=y,f/=y,d/=E,s=a+d,u=l+f)}return{top:a,left:l,bottom:s,right:u,width:f,height:d}}}function Tt(t,e,n){for(var i=ue(t,!0),o=T(t)[e];i;){var r=T(i)[n],a=void 0;if(a=o>=r,!a)return i;if(i===q())break;i=ue(i,!1)}return!1}function Se(t,e,n,i){for(var o=0,r=0,a=t.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==g.ghost&&(i||a[r]!==g.dragged)&&V(a[r],n.draggable,t,!1)){if(o===e)return a[r];o++}r++}return null}function ht(t,e){for(var n=t.lastElementChild;n&&(n===g.ghost||h(n,"display")==="none"||e&&!ze(n,e));)n=n.previousElementSibling;return n||null}function G(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==g.clone&&(!e||ze(t,e))&&n++;return n}function Ot(t){var e=0,n=0,i=q();if(t)do{var o=Ce(t),r=o.a,a=o.d;e+=t.scrollLeft*r,n+=t.scrollTop*a}while(t!==i&&(t=t.parentNode));return[e,n]}function Bn(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n)}return-1}function ue(t,e){if(!t||!t.getBoundingClientRect)return q();var n=t,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=h(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return q();if(i||e)return n;i=!0}}while(n=n.parentNode);return q()}function $n(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Je(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Oe;function Yt(t,e){return function(){if(!Oe){var n=arguments,i=this;n.length===1?t.call(i,n[0]):t.apply(i,n),Oe=setTimeout(function(){Oe=void 0},e)}}}function Xn(){clearTimeout(Oe),Oe=void 0}function Ht(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function Wt(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function Gt(t,e,n){var i={};return Array.from(t.children).forEach(function(o){var r,a,l,s;if(!(!V(o,e.draggable,t,!1)||o.animated||o===n)){var u=T(o);i.left=Math.min((r=i.left)!==null&&r!==void 0?r:1/0,u.left),i.top=Math.min((a=i.top)!==null&&a!==void 0?a:1/0,u.top),i.right=Math.max((l=i.right)!==null&&l!==void 0?l:-1/0,u.right),i.bottom=Math.max((s=i.bottom)!==null&&s!==void 0?s:-1/0,u.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var R="Sortable"+new Date().getTime();function Yn(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(o){if(!(h(o,"display")==="none"||o===g.ghost)){t.push({target:o,rect:T(o)});var r=K({},t[t.length-1].rect);if(o.thisAnimationDuration){var a=Ce(o,!0);a&&(r.top-=a.f,r.left-=a.e)}o.fromRect=r}})}},addAnimationState:function(i){t.push(i)},removeAnimationState:function(i){t.splice(Bn(t,{target:i}),1)},animateAll:function(i){var o=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var r=!1,a=0;t.forEach(function(l){var s=0,u=l.target,d=u.fromRect,f=T(u),m=u.prevFromRect,C=u.prevToRect,y=l.rect,E=Ce(u,!0);E&&(f.top-=E.f,f.left-=E.e),u.toRect=f,u.thisAnimationDuration&&Je(m,f)&&!Je(d,f)&&(y.top-f.top)/(y.left-f.left)===(d.top-f.top)/(d.left-f.left)&&(s=Wn(y,m,C,o.options)),Je(f,d)||(u.prevFromRect=d,u.prevToRect=f,s||(s=o.options.animation),o.animate(u,y,f,s)),s&&(r=!0,a=Math.max(a,s),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},s),u.thisAnimationDuration=s)}),clearTimeout(e),r?e=setTimeout(function(){typeof i=="function"&&i()},a):typeof i=="function"&&i(),t=[]},animate:function(i,o,r,a){if(a){h(i,"transition",""),h(i,"transform","");var l=Ce(this.el),s=l&&l.a,u=l&&l.d,d=(o.left-r.left)/(s||1),f=(o.top-r.top)/(u||1);i.animatingX=!!d,i.animatingY=!!f,h(i,"transform","translate3d("+d+"px,"+f+"px,0)"),this.forRepaintDummy=Hn(i),h(i,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),h(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){h(i,"transition",""),h(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},a)}}}}function Hn(t){return t.offsetWidth}function Wn(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}var me=[],Qe={initializeByDefault:!0},Me={mount:function(e){for(var n in Qe)Qe.hasOwnProperty(n)&&!(n in e)&&(e[n]=Qe[n]);me.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),me.push(e)},pluginEvent:function(e,n,i){var o=this;this.eventCanceled=!1,i.cancel=function(){o.eventCanceled=!0};var r=e+"Global";me.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][r]&&n[a.pluginName][r](K({sortable:n},i)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](K({sortable:n},i)))})},initializePlugins:function(e,n,i,o){me.forEach(function(l){var s=l.pluginName;if(!(!e.options[s]&&!l.initializeByDefault)){var u=new l(e,n,e.options);u.sortable=e,u.options=e.options,e[s]=u,ie(i,u.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);typeof a<"u"&&(e.options[r]=a)}},getEventProperties:function(e,n){var i={};return me.forEach(function(o){typeof o.eventProperties=="function"&&ie(i,o.eventProperties.call(n[o.pluginName],e))}),i},modifyOption:function(e,n,i){var o;return me.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[n]=="function"&&(o=r.optionListeners[n].call(e[r.pluginName],i))}),o}};function Gn(t){var e=t.sortable,n=t.rootEl,i=t.name,o=t.targetEl,r=t.cloneEl,a=t.toEl,l=t.fromEl,s=t.oldIndex,u=t.newIndex,d=t.oldDraggableIndex,f=t.newDraggableIndex,m=t.originalEvent,C=t.putSortable,y=t.extraEventProperties;if(e=e||n&&n[R],!!e){var E,B=e.options,z="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!oe&&!Fe?E=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(E=document.createEvent("Event"),E.initEvent(i,!0,!0)),E.to=a||n,E.from=l||n,E.item=o||n,E.clone=r,E.oldIndex=s,E.newIndex=u,E.oldDraggableIndex=d,E.newDraggableIndex=f,E.originalEvent=m,E.pullMode=C?C.lastPutMode:void 0;var O=K(K({},y),Me.getEventProperties(i,e));for(var $ in O)E[$]=O[$];n&&n.dispatchEvent(E),B[z]&&B[z].call(e,E)}}var zn=["evt"],k=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.evt,r=kn(i,zn);Me.pluginEvent.bind(g)(e,n,K({dragEl:c,parentEl:_,ghostEl:v,rootEl:S,nextEl:ve,lastDownEl:Ye,cloneEl:D,cloneHidden:se,dragStarted:De,putSortable:P,activeSortable:g.active,originalEvent:o,oldIndex:we,oldDraggableIndex:xe,newIndex:H,newDraggableIndex:ae,hideGhostForTarget:Vt,unhideGhostForTarget:Zt,cloneNowHidden:function(){se=!0},cloneNowShown:function(){se=!1},dispatchSortableEvent:function(l){L({sortable:n,name:l,originalEvent:o})}},r))};function L(t){Gn(K({putSortable:P,cloneEl:D,targetEl:c,rootEl:S,oldIndex:we,oldDraggableIndex:xe,newIndex:H,newDraggableIndex:ae},t))}var c,_,v,S,ve,Ye,D,se,we,H,xe,ae,ke,P,ye=!1,Ue=!1,je=[],he,j,et,tt,xt,At,De,be,Ae,Pe=!1,Re=!1,He,N,nt=[],st=!1,Ve=[],qe=typeof document<"u",Be=pt,Pt=Fe||oe?"cssFloat":"float",Un=qe&&!Rt&&!pt&&"draggable"in document.createElement("div"),zt=function(){if(qe){if(oe)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Ut=function(e,n){var i=h(e),o=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),r=Se(e,0,n),a=Se(e,1,n),l=r&&h(r),s=a&&h(a),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+T(r).width,d=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+T(a).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var f=l.float==="left"?"left":"right";return a&&(s.clear==="both"||s.clear===f)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=o&&i[Pt]==="none"||a&&i[Pt]==="none"&&u+d>o)?"vertical":"horizontal"},jn=function(e,n,i){var o=i?e.left:e.top,r=i?e.right:e.bottom,a=i?e.width:e.height,l=i?n.left:n.top,s=i?n.right:n.bottom,u=i?n.width:n.height;return o===l||r===s||o+a/2===l+u/2},Vn=function(e,n){var i;return je.some(function(o){var r=o[R].options.emptyInsertThreshold;if(!(!r||ht(o))){var a=T(o),l=e>=a.left-r&&e<=a.right+r,s=n>=a.top-r&&n<=a.bottom+r;if(l&&s)return i=o}}),i},jt=function(e){function n(r,a){return function(l,s,u,d){var f=l.options.group.name&&s.options.group.name&&l.options.group.name===s.options.group.name;if(r==null&&(a||f))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return n(r(l,s,u,d),a)(l,s,u,d);var m=(a?l:s).options.group.name;return r===!0||typeof r=="string"&&r===m||r.join&&r.indexOf(m)>-1}}var i={},o=e.group;(!o||Xe(o)!="object")&&(o={name:o}),i.name=o.name,i.checkPull=n(o.pull,!0),i.checkPut=n(o.put),i.revertClone=o.revertClone,e.group=i},Vt=function(){!zt&&v&&h(v,"display","none")},Zt=function(){!zt&&v&&h(v,"display","")};qe&&!Rt&&document.addEventListener("click",function(t){if(Ue)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Ue=!1,!1},!0);var ge=function(e){if(c){e=e.touches?e.touches[0]:e;var n=Vn(e.clientX,e.clientY);if(n){var i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]=e[o]);i.target=i.rootEl=n,i.preventDefault=void 0,i.stopPropagation=void 0,n[R]._onDragOver(i)}}},Zn=function(e){c&&c.parentNode[R]._isOutsideThisEl(e.target)};function g(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=ie({},e),t[R]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ut(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:g.supportPointer!==!1&&"PointerEvent"in window&&(!Te||pt),emptyInsertThreshold:5};Me.initializePlugins(this,t,n);for(var i in n)!(i in e)&&(e[i]=n[i]);jt(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:Un,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?w(t,"pointerdown",this._onTapStart):(w(t,"mousedown",this._onTapStart),w(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(w(t,"dragover",this),w(t,"dragenter",this)),je.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ie(this,Yn())}g.prototype={constructor:g,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(be=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,c):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,i=this.el,o=this.options,r=o.preventOnFilter,a=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(l||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,d=o.filter;if(ii(i),!c&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||o.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Te&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=V(s,o.draggable,i,!1),!(s&&s.animated)&&Ye!==s)){if(we=G(s),xe=G(s,o.draggable),typeof d=="function"){if(d.call(this,e,s,this)){L({sortable:n,rootEl:u,name:"filter",targetEl:s,toEl:i,fromEl:i}),k("filter",n,{evt:e}),r&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(f){if(f=V(u,f.trim(),i,!1),f)return L({sortable:n,rootEl:f,name:"filter",targetEl:s,fromEl:i,toEl:i}),k("filter",n,{evt:e}),!0}),d)){r&&e.preventDefault();return}o.handle&&!V(u,o.handle,i,!1)||this._prepareDragStart(e,l,s)}}},_prepareDragStart:function(e,n,i){var o=this,r=o.el,a=o.options,l=r.ownerDocument,s;if(i&&!c&&i.parentNode===r){var u=T(i);if(S=r,c=i,_=c.parentNode,ve=c.nextSibling,Ye=i,ke=a.group,g.dragged=c,he={target:c,clientX:(n||e).clientX,clientY:(n||e).clientY},xt=he.clientX-u.left,At=he.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,c.style["will-change"]="all",s=function(){if(k("delayEnded",o,{evt:e}),g.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!_t&&o.nativeDraggable&&(c.draggable=!0),o._triggerDragStart(e,n),L({sortable:o,name:"choose",originalEvent:e}),Y(c,a.chosenClass,!0)},a.ignore.split(",").forEach(function(d){Xt(c,d.trim(),it)}),w(l,"dragover",ge),w(l,"mousemove",ge),w(l,"touchmove",ge),a.supportPointer?(w(l,"pointerup",o._onDrop),!this.nativeDraggable&&w(l,"pointercancel",o._onDrop)):(w(l,"mouseup",o._onDrop),w(l,"touchend",o._onDrop),w(l,"touchcancel",o._onDrop)),_t&&this.nativeDraggable&&(this.options.touchStartThreshold=4,c.draggable=!0),k("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Fe||oe))){if(g.eventCanceled){this._onDrop();return}a.supportPointer?(w(l,"pointerup",o._disableDelayedDrag),w(l,"pointercancel",o._disableDelayedDrag)):(w(l,"mouseup",o._disableDelayedDrag),w(l,"touchend",o._disableDelayedDrag),w(l,"touchcancel",o._disableDelayedDrag)),w(l,"mousemove",o._delayedDragTouchMoveHandler),w(l,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&w(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(s,a.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){c&&it(c),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"pointerup",this._disableDelayedDrag),b(e,"pointercancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?w(document,"pointermove",this._onTouchMove):n?w(document,"touchmove",this._onTouchMove):w(document,"mousemove",this._onTouchMove):(w(c,"dragend",this),w(S,"dragstart",this._onDragStart));try{document.selection?We(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(ye=!1,S&&c){k("dragStarted",this,{evt:n}),this.nativeDraggable&&w(document,"dragover",Zn);var i=this.options;!e&&Y(c,i.dragClass,!1),Y(c,i.ghostClass,!0),g.active=this,e&&this._appendGhost(),L({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(j){this._lastX=j.clientX,this._lastY=j.clientY,Vt();for(var e=document.elementFromPoint(j.clientX,j.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(j.clientX,j.clientY),e!==n);)n=e;if(c.parentNode[R]._isOutsideThisEl(e),n)do{if(n[R]){var i=void 0;if(i=n[R]._onDragOver({clientX:j.clientX,clientY:j.clientY,target:e,rootEl:n}),i&&!this.options.dragoverBubble)break}e=n}while(n=$t(n));Zt()}},_onTouchMove:function(e){if(he){var n=this.options,i=n.fallbackTolerance,o=n.fallbackOffset,r=e.touches?e.touches[0]:e,a=v&&Ce(v,!0),l=v&&a&&a.a,s=v&&a&&a.d,u=Be&&N&&Ot(N),d=(r.clientX-he.clientX+o.x)/(l||1)+(u?u[0]-nt[0]:0)/(l||1),f=(r.clientY-he.clientY+o.y)/(s||1)+(u?u[1]-nt[1]:0)/(s||1);if(!g.active&&!ye){if(i&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(v){a?(a.e+=d-(et||0),a.f+=f-(tt||0)):a={a:1,b:0,c:0,d:1,e:d,f};var m="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");h(v,"webkitTransform",m),h(v,"mozTransform",m),h(v,"msTransform",m),h(v,"transform",m),et=d,tt=f,j=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!v){var e=this.options.fallbackOnBody?document.body:S,n=T(c,!0,Be,!0,e),i=this.options;if(Be){for(N=e;h(N,"position")==="static"&&h(N,"transform")==="none"&&N!==document;)N=N.parentNode;N!==document.body&&N!==document.documentElement?(N===document&&(N=q()),n.top+=N.scrollTop,n.left+=N.scrollLeft):N=q(),nt=Ot(N)}v=c.cloneNode(!0),Y(v,i.ghostClass,!1),Y(v,i.fallbackClass,!0),Y(v,i.dragClass,!0),h(v,"transition",""),h(v,"transform",""),h(v,"box-sizing","border-box"),h(v,"margin",0),h(v,"top",n.top),h(v,"left",n.left),h(v,"width",n.width),h(v,"height",n.height),h(v,"opacity","0.8"),h(v,"position",Be?"absolute":"fixed"),h(v,"zIndex","100000"),h(v,"pointerEvents","none"),g.ghost=v,e.appendChild(v),h(v,"transform-origin",xt/parseInt(v.style.width)*100+"% "+At/parseInt(v.style.height)*100+"%")}},_onDragStart:function(e,n){var i=this,o=e.dataTransfer,r=i.options;if(k("dragStart",this,{evt:e}),g.eventCanceled){this._onDrop();return}k("setupClone",this),g.eventCanceled||(D=Wt(c),D.removeAttribute("id"),D.draggable=!1,D.style["will-change"]="",this._hideClone(),Y(D,this.options.chosenClass,!1),g.clone=D),i.cloneId=We(function(){k("clone",i),!g.eventCanceled&&(i.options.removeCloneOnHide||S.insertBefore(D,c),i._hideClone(),L({sortable:i,name:"clone"}))}),!n&&Y(c,r.dragClass,!0),n?(Ue=!0,i._loopId=setInterval(i._emulateDragOver,50)):(b(document,"mouseup",i._onDrop),b(document,"touchend",i._onDrop),b(document,"touchcancel",i._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(i,o,c)),w(document,"drop",i),h(c,"transform","translateZ(0)")),ye=!0,i._dragStartId=We(i._dragStarted.bind(i,n,e)),w(document,"selectstart",i),De=!0,window.getSelection().removeAllRanges(),Te&&h(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,i=e.target,o,r,a,l=this.options,s=l.group,u=g.active,d=ke===s,f=l.sort,m=P||u,C,y=this,E=!1;if(st)return;function B(X,Kt){k(X,y,K({evt:e,isOwner:d,axis:C?"vertical":"horizontal",revert:a,dragRect:o,targetRect:r,canSort:f,fromSortable:m,target:i,completed:O,onMove:function(mt,Jt){return $e(S,n,c,o,mt,T(mt),e,Jt)},changed:$},Kt))}function z(){B("dragOverAnimationCapture"),y.captureAnimationState(),y!==m&&m.captureAnimationState()}function O(X){return B("dragOverCompleted",{insertion:X}),X&&(d?u._hideClone():u._showClone(y),y!==m&&(Y(c,P?P.options.ghostClass:u.options.ghostClass,!1),Y(c,l.ghostClass,!0)),P!==y&&y!==g.active?P=y:y===g.active&&P&&(P=null),m===y&&(y._ignoreWhileAnimating=i),y.animateAll(function(){B("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(i===c&&!c.animated||i===n&&!i.animated)&&(be=null),!l.dragoverBubble&&!e.rootEl&&i!==document&&(c.parentNode[R]._isOutsideThisEl(e.target),!X&&ge(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),E=!0}function $(){H=G(c),ae=G(c,l.draggable),L({sortable:y,name:"change",toEl:n,newIndex:H,newDraggableIndex:ae,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=V(i,l.draggable,n,!0),B("dragOver"),g.eventCanceled)return E;if(c.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||y._ignoreWhileAnimating===i)return O(!1);if(Ue=!1,u&&!l.disabled&&(d?f||(a=_!==S):P===this||(this.lastPutMode=ke.checkPull(this,u,c,e))&&s.checkPut(this,u,c,e))){if(C=this._getDirection(e,i)==="vertical",o=T(c),B("dragOverValid"),g.eventCanceled)return E;if(a)return _=S,z(),this._hideClone(),B("revert"),g.eventCanceled||(ve?S.insertBefore(c,ve):S.appendChild(c)),O(!0);var F=ht(n,l.draggable);if(!F||Qn(e,C,this)&&!F.animated){if(F===c)return O(!1);if(F&&n===e.target&&(i=F),i&&(r=T(i)),$e(S,n,c,o,i,r,e,!!i)!==!1)return z(),F&&F.nextSibling?n.insertBefore(c,F.nextSibling):n.appendChild(c),_=n,$(),O(!0)}else if(F&&Jn(e,C,this)){var J=Se(n,0,l,!0);if(J===c)return O(!1);if(i=J,r=T(i),$e(S,n,c,o,i,r,e,!1)!==!1)return z(),n.insertBefore(c,J),_=n,$(),O(!0)}else if(i.parentNode===n){r=T(i);var W=0,Q,ce=c.parentNode!==n,M=!jn(c.animated&&c.toRect||o,i.animated&&i.toRect||r,C),de=C?"top":"left",Z=Tt(i,"top","top")||Tt(c,"top","top"),fe=Z?Z.scrollTop:void 0;be!==i&&(Q=r[de],Pe=!1,Re=!M&&l.invertSwap||ce),W=ei(e,i,r,C,M?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Re,be===i);var U;if(W!==0){var ee=G(c);do ee-=W,U=_.children[ee];while(U&&(h(U,"display")==="none"||U===v))}if(W===0||U===i)return O(!1);be=i,Ae=W;var pe=i.nextElementSibling,p=!1;p=W===1;var x=$e(S,n,c,o,i,r,e,p);if(x!==!1)return(x===1||x===-1)&&(p=x===1),st=!0,setTimeout(Kn,30),z(),p&&!pe?n.appendChild(c):i.parentNode.insertBefore(c,p?pe:i),Z&&Ht(Z,0,fe-Z.scrollTop),_=c.parentNode,Q!==void 0&&!Re&&(He=Math.abs(Q-T(i)[de])),$(),O(!0)}if(n.contains(c))return O(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",ge),b(document,"mousemove",ge),b(document,"touchmove",ge)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"pointercancel",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var n=this.el,i=this.options;if(H=G(c),ae=G(c,i.draggable),k("drop",this,{evt:e}),_=c&&c.parentNode,H=G(c),ae=G(c,i.draggable),g.eventCanceled){this._nulling();return}ye=!1,Re=!1,Pe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ut(this.cloneId),ut(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Te&&h(document.body,"user-select",""),h(c,"transform",""),e&&(De&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),v&&v.parentNode&&v.parentNode.removeChild(v),(S===_||P&&P.lastPutMode!=="clone")&&D&&D.parentNode&&D.parentNode.removeChild(D),c&&(this.nativeDraggable&&b(c,"dragend",this),it(c),c.style["will-change"]="",De&&!ye&&Y(c,P?P.options.ghostClass:this.options.ghostClass,!1),Y(c,this.options.chosenClass,!1),L({sortable:this,name:"unchoose",toEl:_,newIndex:null,newDraggableIndex:null,originalEvent:e}),S!==_?(H>=0&&(L({rootEl:_,name:"add",toEl:_,fromEl:S,originalEvent:e}),L({sortable:this,name:"remove",toEl:_,originalEvent:e}),L({rootEl:_,name:"sort",toEl:_,fromEl:S,originalEvent:e}),L({sortable:this,name:"sort",toEl:_,originalEvent:e})),P&&P.save()):H!==we&&H>=0&&(L({sortable:this,name:"update",toEl:_,originalEvent:e}),L({sortable:this,name:"sort",toEl:_,originalEvent:e})),g.active&&((H==null||H===-1)&&(H=we,ae=xe),L({sortable:this,name:"end",toEl:_,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){k("nulling",this),S=c=_=v=ve=D=Ye=se=he=j=De=H=ae=we=xe=be=Ae=P=ke=g.dragged=g.ghost=g.clone=g.active=null,Ve.forEach(function(e){e.checked=!0}),Ve.length=et=tt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":c&&(this._onDragOver(e),qn(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,i=this.el.children,o=0,r=i.length,a=this.options;o<r;o++)n=i[o],V(n,a.draggable,this.el,!1)&&e.push(n.getAttribute(a.dataIdAttr)||ni(n));return e},sort:function(e,n){var i={},o=this.el;this.toArray().forEach(function(r,a){var l=o.children[a];V(l,this.options.draggable,o,!1)&&(i[r]=l)},this),n&&this.captureAnimationState(),e.forEach(function(r){i[r]&&(o.removeChild(i[r]),o.appendChild(i[r]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return V(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var i=this.options;if(n===void 0)return i[e];var o=Me.modifyOption(this,e,n);typeof o<"u"?i[e]=o:i[e]=n,e==="group"&&jt(i)},destroy:function(){k("destroy",this);var e=this.el;e[R]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),je.splice(je.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!se){if(k("hideClone",this),g.eventCanceled)return;h(D,"display","none"),this.options.removeCloneOnHide&&D.parentNode&&D.parentNode.removeChild(D),se=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(se){if(k("showClone",this),g.eventCanceled)return;c.parentNode==S&&!this.options.group.revertClone?S.insertBefore(D,c):ve?S.insertBefore(D,ve):S.appendChild(D),this.options.group.revertClone&&this.animate(c,D),h(D,"display",""),se=!1}}};function qn(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function $e(t,e,n,i,o,r,a,l){var s,u=t[R],d=u.options.onMove,f;return window.CustomEvent&&!oe&&!Fe?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=e,s.from=t,s.dragged=n,s.draggedRect=i,s.related=o||e,s.relatedRect=r||T(e),s.willInsertAfter=l,s.originalEvent=a,t.dispatchEvent(s),d&&(f=d.call(u,s,a)),f}function it(t){t.draggable=!1}function Kn(){st=!1}function Jn(t,e,n){var i=T(Se(n.el,0,n.options,!0)),o=Gt(n.el,n.options,v),r=10;return e?t.clientX<o.left-r||t.clientY<i.top&&t.clientX<i.right:t.clientY<o.top-r||t.clientY<i.bottom&&t.clientX<i.left}function Qn(t,e,n){var i=T(ht(n.el,n.options.draggable)),o=Gt(n.el,n.options,v),r=10;return e?t.clientX>o.right+r||t.clientY>i.bottom&&t.clientX>i.left:t.clientY>o.bottom+r||t.clientX>i.right&&t.clientY>i.top}function ei(t,e,n,i,o,r,a,l){var s=i?t.clientY:t.clientX,u=i?n.height:n.width,d=i?n.top:n.left,f=i?n.bottom:n.right,m=!1;if(!a){if(l&&He<u*o){if(!Pe&&(Ae===1?s>d+u*r/2:s<f-u*r/2)&&(Pe=!0),Pe)m=!0;else if(Ae===1?s<d+He:s>f-He)return-Ae}else if(s>d+u*(1-o)/2&&s<f-u*(1-o)/2)return ti(e)}return m=m||a,m&&(s<d+u*r/2||s>f-u*r/2)?s>d+u/2?1:-1:0}function ti(t){return G(c)<G(t)?1:-1}function ni(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function ii(t){Ve.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&Ve.push(i)}}function We(t){return setTimeout(t,0)}function ut(t){return clearTimeout(t)}qe&&w(document,"touchmove",function(t){(g.active||ye)&&t.cancelable&&t.preventDefault()});g.utils={on:w,off:b,css:h,find:Xt,is:function(e,n){return!!V(e,n,e,!1)},extend:$n,throttle:Yt,closest:V,toggleClass:Y,clone:Wt,index:G,nextTick:We,cancelNextTick:ut,detectDirection:Ut,getChild:Se,expando:R};g.get=function(t){return t[R]};g.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(g.utils=K(K({},g.utils),i.utils)),Me.mount(i)})};g.create=function(t,e){return new g(t,e)};g.version=Rn;var I=[],_e,ct,dt=!1,ot,rt,Ze,Ie;function oi(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var i=n.originalEvent;this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):this.options.supportPointer?w(document,"pointermove",this._handleFallbackAutoScroll):i.touches?w(document,"touchmove",this._handleFallbackAutoScroll):w(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var i=n.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),Nt(),Ge(),Xn()},nulling:function(){Ze=ct=_e=dt=Ie=ot=rt=null,I.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,i){var o=this,r=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,l=document.elementFromPoint(r,a);if(Ze=n,i||this.options.forceAutoScrollFallback||Fe||oe||Te){at(n,this.options,l,i);var s=ue(l,!0);dt&&(!Ie||r!==ot||a!==rt)&&(Ie&&Nt(),Ie=setInterval(function(){var u=ue(document.elementFromPoint(r,a),!0);u!==s&&(s=u,Ge()),at(n,o.options,u,i)},10),ot=r,rt=a)}else{if(!this.options.bubbleScroll||ue(l,!0)===q()){Ge();return}at(n,this.options,ue(l,!1),!1)}}},ie(t,{pluginName:"scroll",initializeByDefault:!0})}function Ge(){I.forEach(function(t){clearInterval(t.pid)}),I=[]}function Nt(){clearInterval(Ie)}var at=Yt(function(t,e,n,i){if(e.scroll){var o=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,s=q(),u=!1,d;ct!==n&&(ct=n,Ge(),_e=e.scroll,d=e.scrollFn,_e===!0&&(_e=ue(n,!0)));var f=0,m=_e;do{var C=m,y=T(C),E=y.top,B=y.bottom,z=y.left,O=y.right,$=y.width,F=y.height,J=void 0,W=void 0,Q=C.scrollWidth,ce=C.scrollHeight,M=h(C),de=C.scrollLeft,Z=C.scrollTop;C===s?(J=$<Q&&(M.overflowX==="auto"||M.overflowX==="scroll"||M.overflowX==="visible"),W=F<ce&&(M.overflowY==="auto"||M.overflowY==="scroll"||M.overflowY==="visible")):(J=$<Q&&(M.overflowX==="auto"||M.overflowX==="scroll"),W=F<ce&&(M.overflowY==="auto"||M.overflowY==="scroll"));var fe=J&&(Math.abs(O-o)<=a&&de+$<Q)-(Math.abs(z-o)<=a&&!!de),U=W&&(Math.abs(B-r)<=a&&Z+F<ce)-(Math.abs(E-r)<=a&&!!Z);if(!I[f])for(var ee=0;ee<=f;ee++)I[ee]||(I[ee]={});(I[f].vx!=fe||I[f].vy!=U||I[f].el!==C)&&(I[f].el=C,I[f].vx=fe,I[f].vy=U,clearInterval(I[f].pid),(fe!=0||U!=0)&&(u=!0,I[f].pid=setInterval((function(){i&&this.layer===0&&g.active._onTouchMove(Ze);var pe=I[this.layer].vy?I[this.layer].vy*l:0,p=I[this.layer].vx?I[this.layer].vx*l:0;typeof d=="function"&&d.call(g.dragged.parentNode[R],p,pe,t,Ze,I[this.layer].el)!=="continue"||Ht(I[this.layer].el,p,pe)}).bind({layer:f}),24))),f++}while(e.bubbleScroll&&m!==s&&(m=ue(m,!1)));dt=u}},30),qt=function(e){var n=e.originalEvent,i=e.putSortable,o=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,l=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(n){var u=i||r;l();var d=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(d.clientX,d.clientY);s(),u&&!u.el.contains(f)&&(a("spill"),this.onSpill({dragEl:o,putSortable:i}))}};function gt(){}gt.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var o=Se(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),i&&i.animateAll()},drop:qt};ie(gt,{pluginName:"revertOnSpill"});function vt(){}vt.prototype={onSpill:function(e){var n=e.dragEl,i=e.putSortable,o=i||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:qt};ie(vt,{pluginName:"removeOnSpill"});g.mount(new oi);g.mount(vt,gt);function fi(t,e,n={}){let i;const{document:o=Nn,...r}=n,a={onUpdate:d=>{li(e,d.oldIndex,d.newIndex,d)}},l=()=>{const d=typeof t=="string"?o==null?void 0:o.querySelector(t):Fn(t);!d||i!==void 0||(i=new g(d,{...a,...r}))},s=()=>{i==null||i.destroy(),i=void 0},u=(d,f)=>{if(f!==void 0)i==null||i.option(d,f);else return i==null?void 0:i.option(d)};return Pn(l),On(s),{stop:s,start:l,option:u}}function ri(t,e,n){const i=t.children[n];t.insertBefore(e,i)}function ai(t){t.parentNode&&t.parentNode.removeChild(t)}function li(t,e,n,i=null){i!=null&&(ai(i.item),ri(i.from,i.item,e));const o=dn(t),r=o?[...lt(t)]:lt(t);if(n>=0&&n<r.length){const a=r.splice(e,1)[0];Ft(()=>{r.splice(n,0,a),o&&(t.value=r)})}}export{fi as a,li as m,wn as s,di as u};
