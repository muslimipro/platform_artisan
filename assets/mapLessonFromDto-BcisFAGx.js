import{m as c}from"./mapUnitFromDto-CYGc5n9V.js";function n(e){const a=[];let r={id:-1,groups:[]},s={id:-1,units:[],codeDrawerVisible:!1,pibodyDrawerVisible:!1};for(const u of e){const{unit_type:i,id:t}=u;if(i==="pibody"&&(s.pibodyDrawerVisible=!0,s.codeDrawerVisible=!0),i==="code"&&(s.codeDrawerVisible=!0),i==="page-divider")r.groups.push(s),a.push(r),r={id:t,groups:[]},s={id:t,units:[],codeDrawerVisible:!1,pibodyDrawerVisible:!1};else if(i==="group-divider")r.groups.push(s),s={id:t,units:[],codeDrawerVisible:!1,pibodyDrawerVisible:!1};else{const p=c(u);s.units.push(p)}}return r.groups.push(s),a.push(r),a}const o=e=>({accessStatus:e.access_status,accessType:e.access_type,createdAt:new Date(e.created_at),createdBy:e.created_by,description:e.description,id:e.id,lessonType:e.lesson_type,levelId:e.level_id,name:e.name,previewImageUrl:e.preview_image_url,reviewedBy:e.reviewed_by,sourceImageUrl:e.source_image_url,stage:e.stage,studentProgress:e.student_progress,pages:n(e.units??[]),lastAccessedUnit:e.last_accessed_unit,updatedAt:new Date(e.updated_at),updatedBy:e.updated_by,editable:e.editable,showCode:!0,showPibody:!0});export{o as m};
