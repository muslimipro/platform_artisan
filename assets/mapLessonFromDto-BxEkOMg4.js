import{m as p}from"./mapUnitFromDto-BXFFFlEW.js";function l(e){const a=[];let s={id:-1,groups:[],showCode:!1,showPibody:!1},r={id:-1,units:[],codeDrawerVisible:!1,pibodyDrawerVisible:!1};for(const u of e){const{unit_type:i,id:t}=u;if(i==="pibody"&&(r.pibodyDrawerVisible=!0,r.codeDrawerVisible=!0,s.showPibody=!0,s.showCode=!0),i==="code"&&(r.codeDrawerVisible=!0,s.showCode=!0),i==="page-divider")s.groups.push(r),a.push(s),s={id:t,groups:[],showCode:!1,showPibody:!1},r={id:t,units:[],codeDrawerVisible:!1,pibodyDrawerVisible:!1};else if(i==="group-divider")s.groups.push(r),r={id:t,units:[],codeDrawerVisible:!1,pibodyDrawerVisible:!1};else{const o=p(u);r.units.push(o)}}return s.groups.push(r),a.push(s),a}const n=e=>({accessStatus:e.access_status,accessType:e.access_type,createdAt:new Date(e.created_at),createdBy:e.created_by,description:e.description,id:e.id,lessonType:e.lesson_type,levelId:e.level_id,name:e.name,previewImageUrl:e.preview_image_url,reviewedBy:e.reviewed_by,sourceImageUrl:e.source_image_url,stage:e.stage,studentProgress:e.student_progress,pages:l(e.units??[]),lastAccessedUnit:e.last_accessed_unit,updatedAt:new Date(e.updated_at),updatedBy:e.updated_by,editable:e.editable});export{n as m};
