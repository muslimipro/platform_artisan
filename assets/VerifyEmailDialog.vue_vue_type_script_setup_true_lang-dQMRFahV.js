import{d as _,aL as V,p as E,u as h,a as k,ah as w,r as B,o as C,f as S,w as i,b as t,j as d,e as u,t as $,k as D,H as x,s as A,aw as M}from"./index-CKgW3A1F.js";import{S as N}from"./index-DC2minnI.js";const R={class:"text-blue-500"},q=_({__name:"VerifyEmailDialog",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(m){const o=V(m,"modelValue"),c=D(),{locale:f}=E(),n=h(),p=k(),{user:v}=w(p),s=B(!1);async function g(){s.value=!0;try{await N.sendVerificationEmail(f.value),n.add({severity:"success",summary:"Verification email sent!",life:2e3})}catch(e){console.log(e),n.add({severity:"error",summary:"Email is invalid!",detail:e,life:2e3})}finally{s.value=!1}}return(e,l)=>{const y=x("i18n-t"),r=A,b=M;return C(),S(b,{visible:o.value,"onUpdate:visible":l[1]||(l[1]=a=>o.value=a),modal:"",draggable:!1,class:"m-4 max-w-md",header:e.$t("dialog.verifyYourEmail")},{footer:i(()=>[t(r,{label:e.$t("dialog.changeEmail"),severity:"secondary",onClick:l[0]||(l[0]=a=>{d(c).replace({path:"/settings/change-email"}),o.value=!1})},null,8,["label"]),t(r,{label:e.$t("dialog.sendVerificationEmail"),onClick:g,disabled:s.value,loading:s.value},null,8,["label","disabled","loading"])]),default:i(()=>[u("div",null,[t(y,{keypath:"dialog.confirmEmailAddress"},{email:i(()=>{var a;return[u("span",R,$((a=d(v))==null?void 0:a.email),1)]}),_:1})])]),_:1},8,["visible","header"])}}});export{q as _};
