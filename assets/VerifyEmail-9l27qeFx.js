import{s as V}from"./index-CwC5BdXP.js";import{d as h,r as d,m as B,o as e,c,b as C,e as g,t as s,f as a,w as i,g as l,h as u,j as v,F as N,n as S,k as T,s as w}from"./index-DcyBeJgC.js";import{s as x}from"./index-gHHiHdoU.js";import{_ as E}from"./AuthHeader.vue_vue_type_script_setup_true_lang-B-1MJIdI.js";import{a as F}from"./index-seXcSKnd.js";import"./logo-Cr9YRutO.js";import"./index-BS_i5v3E.js";import"./LocaleSwitcher.vue_vue_type_script_setup_true_lang-CG-OV08p.js";import"./index-Dm115m7X.js";import"./index-BauW75GO.js";import"./index-Dzo9KCOb.js";import"./index-DmQEPo33.js";import"./index-dDCPORGv.js";const I={class:"card flex flex-col items-center pt-4 gap-4"},M={class:"text-2xl"},R={key:0},b={key:1},W=h({__name:"VerifyEmail",setup(j){const _=S(),m=T(),o=d(!1),r=d(null);async function y(){o.value=!0;try{await F.verifyEmail(_.query.token),r.value=!0}catch(t){r.value=!1,console.log(t)}finally{o.value=!1}}return B(()=>{y()}),(t,n)=>{const p=x,f=w,k=V;return e(),c(N,null,[C(E),g("div",I,[g("div",M,s(t.$t("pages.login.emailVerification")),1),o.value?u("",!0):(e(),c("div",R,[r.value==!0?(e(),a(p,{key:0,severity:"success"},{default:i(()=>[l(s(t.$t("pages.login.emailSuccessfullyVerified")),1)]),_:1})):(e(),a(p,{key:1,severity:"error"},{default:i(()=>[l(s(t.$t("pages.login.tokenIsInvalidTryAgain")),1)]),_:1}))])),o.value?u("",!0):(e(),c("div",b,[r.value==!0?(e(),a(f,{key:0,onClick:n[0]||(n[0]=$=>v(m).replace("/"))},{default:i(()=>[l(s(t.$t("pages.login.goToHome")),1)]),_:1})):(e(),a(f,{key:1,onClick:n[1]||(n[1]=$=>v(m).replace("/settings/change-email"))},{default:i(()=>[l(s(t.$t("pages.login.goToSettings")),1)]),_:1}))])),o.value?(e(),a(k,{key:2})):u("",!0)])],64)}}});export{W as default};
