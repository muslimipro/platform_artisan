import{aw as T,e as v}from"./index-BzwGzcTW.js";const u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).slice(1));function q(e,n=0){return(u[e[n+0]]+u[e[n+1]]+u[e[n+2]]+u[e[n+3]]+"-"+u[e[n+4]]+u[e[n+5]]+"-"+u[e[n+6]]+u[e[n+7]]+"-"+u[e[n+8]]+u[e[n+9]]+"-"+u[e[n+10]]+u[e[n+11]]+u[e[n+12]]+u[e[n+13]]+u[e[n+14]]+u[e[n+15]]).toLowerCase()}let c;const z=new Uint8Array(16);function B(){if(!c){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");c=crypto.getRandomValues.bind(crypto)}return c(z)}const F=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),h={randomUUID:F};function p(e,n,i){if(h.randomUUID&&!n&&!e)return h.randomUUID();e=e||{};const a=e.random||(e.rng||B)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,q(a)}const J=T("useEditorStore",()=>{const e=v(null),n=v(null),i=v(null),a=v(null),r=v(null),o=v(null);function d(l){e.value=l}function g(l){l!=null&&(e.value=l)}function f(l){e.value!=null&&(e.value.steps=l)}function m(l,t){e.value!=null&&(e.value.steps.push({id:t.id,title:t.title,type:l,progress:"nothing",inner:{contents:[]}}),n.value=e.value.steps.length-1)}function y(l){e.value==null||n.value==null||(e.value.steps[n.value].inner.contents.push({id:p(),type:l,text:l=="text"?"":void 0,src:void 0}),i.value=e.value.steps[n.value].inner.contents.length-1)}function x(l,t,s){e.value==null||n.value==null||i.value==null||(i.value=s,e.value.steps[n.value].inner.contents[i.value].type=="text"&&l!=null?e.value.steps[n.value].inner.contents[i.value].text=l:e.value.steps[n.value].inner.contents[i.value].type=="image"&&t!=null?e.value.steps[n.value].inner.contents[i.value].src=t:e.value.steps[n.value].inner.contents[i.value].type=="video"&&l!=null&&(e.value.steps[n.value].inner.contents[i.value].text=l))}function S(l){e.value==null||n.value==null||e.value.steps[n.value].inner.contents.splice(l,1)}function U(l){if(e.value==null)return;n.value=l;const t=e.value.steps[n.value].inner.contents.length;i.value=t>0?t-1:null}function I(l){e.value==null||n.value==null||(e.value.steps[n.value].inner.starting=l)}function w(l){e.value==null||n.value==null||(e.value.steps[n.value].inner.solution=l)}function A(){e.value==null||n.value==null||(e.value.steps[n.value].inner.options==null&&(e.value.steps[n.value].inner.options=[]),e.value.steps[n.value].inner.options.push({id:p(),text:"",saved:!1,correct:!1}),a.value=e.value.steps[n.value].inner.options.length-1)}function D(l,t,s){e.value==null||n.value==null||a.value==null||e.value.steps[n.value].inner.options!=null&&(a.value=s,e.value.steps[n.value].inner.options[a.value].text=l,e.value.steps[n.value].inner.options[a.value].correct=t)}function b(l){e.value==null||n.value==null||e.value.steps[n.value].inner.options!=null&&(e.value.steps[n.value].inner.options.splice(l,1),e.value.steps[n.value].inner.options.length==0&&(e.value.steps[n.value].inner.options=void 0))}function C(l){e.value==null||n.value==null||(e.value.steps[n.value].inner.answer=l)}function H(){e.value==null||n.value==null||(e.value.steps[n.value].inner.pairs==null&&(e.value.steps[n.value].inner.pairs=[]),e.value.steps[n.value].inner.pairs.push({id:p(),key:"",value:""}),r.value=e.value.steps[n.value].inner.pairs.length-1)}function P(l,t,s){e.value==null||n.value==null||r.value==null||e.value.steps[n.value].inner.pairs!=null&&(r.value=s,e.value.steps[n.value].inner.pairs[r.value].key=l,e.value.steps[n.value].inner.pairs[r.value].value=t)}function R(l){e.value==null||n.value==null||e.value.steps[n.value].inner.pairs!=null&&(e.value.steps[n.value].inner.pairs.splice(l,1),e.value.steps[n.value].inner.pairs.length==0&&(e.value.steps[n.value].inner.pairs=void 0))}function V(l){e.value==null||n.value==null||(e.value.steps[n.value].inner.userAction=l??void 0)}function E(l){e.value==null||n.value==null||(e.value.steps[n.value].inner.platformAction=l??void 0)}function L(){e.value==null||n.value==null||(e.value.steps[n.value].inner.highlights==null&&(e.value.steps[n.value].inner.highlights=[]),e.value.steps[n.value].inner.highlights.push({id:p(),module:null,slot:null}),o.value=e.value.steps[n.value].inner.highlights.length-1)}function O(l,t,s){e.value==null||n.value==null||o.value==null||e.value.steps[n.value].inner.highlights!=null&&(o.value=s,e.value.steps[n.value].inner.highlights[o.value].module=l,e.value.steps[n.value].inner.highlights[o.value].slot=t)}function k(l){e.value==null||n.value==null||e.value.steps[n.value].inner.highlights!=null&&(e.value.steps[n.value].inner.highlights.splice(l,1),e.value.steps[n.value].inner.highlights.length==0&&(e.value.steps[n.value].inner.highlights=void 0))}function j(){e.value==null||n.value==null||e.value.steps.splice(n.value,1)}return{lesson:e,stepIndex:n,contentIndex:i,optionIndex:a,addLesson:d,setLesson:g,setSteps:f,addStep:m,changeStep:U,addContent:y,saveContent:x,removeContent:S,saveStarting:I,saveSolution:w,addOption:A,saveOption:D,removeOption:b,saveAnswer:C,addPair:H,savePair:P,removePair:R,saveUserAction:V,savePlatformAction:E,addHighlight:L,saveHighlight:O,removeHighlight:k,removeStep:j}});export{J as u};
