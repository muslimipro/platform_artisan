var ve=Object.defineProperty;var be=(e,t,r)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Se=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var v=(e,t,r)=>be(e,typeof t!="symbol"?t+"":t,r);var Ze=Se((Ke,M)=>{var N=(e=>(e[e.NONE=-1]="NONE",e[e.IN=0]="IN",e[e.OUT=1]="OUT",e))(N||{}),P=(e=>(e[e.NONE=-1]="NONE",e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e))(P||{}),_e=Object.defineProperty,d=(e,t)=>_e(e,"name",{value:t,configurable:!0}),Y=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});function Z(e){return!isNaN(parseFloat(e))&&isFinite(e)}d(Z,"_isNumber");function b(e){return e.charAt(0).toUpperCase()+e.substring(1)}d(b,"_capitalize");function U(e){return function(){return this[e]}}d(U,"_getter");var F=["isConstructor","isEval","isNative","isToplevel"],k=["columnNumber","lineNumber"],A=["fileName","functionName","source"],Ee=["args"],Oe=["evalOrigin"],I=F.concat(k,A,Ee,Oe);function h(e){if(e)for(var t=0;t<I.length;t++)e[I[t]]!==void 0&&this["set"+b(I[t])](e[I[t]])}d(h,"StackFrame");h.prototype={getArgs:function(){return this.args},setArgs:function(e){if(Object.prototype.toString.call(e)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof h)this.evalOrigin=e;else if(e instanceof Object)this.evalOrigin=new h(e);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",r=this.getColumnNumber()||"",a=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+r+")":"[eval]:"+t+":"+r:a?a+" ("+e+":"+t+":"+r+")":e+":"+t+":"+r}};h.fromString=d(function(e){var t=e.indexOf("("),r=e.lastIndexOf(")"),a=e.substring(0,t),i=e.substring(t+1,r).split(","),n=e.substring(r+1);if(n.indexOf("@")===0)var o=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(n,""),s=o[1],c=o[2],l=o[3];return new h({functionName:a,args:i||void 0,fileName:s,lineNumber:c||void 0,columnNumber:l||void 0})},"StackFrame$$fromString");for(S=0;S<F.length;S++)h.prototype["get"+b(F[S])]=U(F[S]),h.prototype["set"+b(F[S])]=function(e){return function(t){this[e]=!!t}}(F[S]);var S;for(_=0;_<k.length;_++)h.prototype["get"+b(k[_])]=U(k[_]),h.prototype["set"+b(k[_])]=function(e){return function(t){if(!Z(t))throw new TypeError(e+" must be a Number");this[e]=Number(t)}}(k[_]);var _;for(E=0;E<A.length;E++)h.prototype["get"+b(A[E])]=U(A[E]),h.prototype["set"+b(A[E])]=function(e){return function(t){this[e]=String(t)}}(A[E]);var E,T=h;function G(){var e=/^\s*at .*(\S+:\d+|\(native\))/m,t=/^(eval@)?(\[native code])?$/;return{parse:d(function(r){if(r.stack&&r.stack.match(e))return this.parseV8OrIE(r);if(r.stack)return this.parseFFOrSafari(r);throw new Error("Cannot parse given Error object")},"ErrorStackParser$$parse"),extractLocation:d(function(r){if(r.indexOf(":")===-1)return[r];var a=/(.+?)(?::(\d+))?(?::(\d+))?$/,i=a.exec(r.replace(/[()]/g,""));return[i[1],i[2]||void 0,i[3]||void 0]},"ErrorStackParser$$extractLocation"),parseV8OrIE:d(function(r){var a=r.stack.split(`
`).filter(function(i){return!!i.match(e)},this);return a.map(function(i){i.indexOf("(eval ")>-1&&(i=i.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var n=i.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),o=n.match(/ (\(.+\)$)/);n=o?n.replace(o[0],""):n;var s=this.extractLocation(o?o[1]:n),c=o&&n||void 0,l=["eval","<anonymous>"].indexOf(s[0])>-1?void 0:s[0];return new T({functionName:c,fileName:l,lineNumber:s[1],columnNumber:s[2],source:i})},this)},"ErrorStackParser$$parseV8OrIE"),parseFFOrSafari:d(function(r){var a=r.stack.split(`
`).filter(function(i){return!i.match(t)},this);return a.map(function(i){if(i.indexOf(" > eval")>-1&&(i=i.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),i.indexOf("@")===-1&&i.indexOf(":")===-1)return new T({functionName:i});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,o=i.match(n),s=o&&o[1]?o[1]:void 0,c=this.extractLocation(i.replace(n,""));return new T({functionName:s,fileName:c[0],lineNumber:c[1],columnNumber:c[2],source:i})},this)},"ErrorStackParser$$parseFFOrSafari")}}d(G,"ErrorStackParser");var Fe=new G,ke=Fe,g=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&!process.browser,K=g&&typeof M<"u"&&typeof M.exports<"u"&&typeof Y<"u"&&typeof __dirname<"u",Ae=g&&!K,Ne=typeof Deno<"u",Q=!g&&!Ne,Ie=Q&&typeof window=="object"&&typeof document=="object"&&typeof document.createElement=="function"&&"sessionStorage"in window&&typeof importScripts!="function",De=Q&&typeof importScripts=="function"&&typeof self=="object";typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Chrome")==-1&&navigator.userAgent.indexOf("Safari")>-1;var X,$,ee,z,C;async function B(){if(!g||(X=(await import("./__vite-browser-external-9wXp6ZBx.js")).default,z=await import("./__vite-browser-external-9wXp6ZBx.js"),C=await import("./__vite-browser-external-9wXp6ZBx.js"),ee=(await import("./__vite-browser-external-9wXp6ZBx.js")).default,$=await import("./__vite-browser-external-9wXp6ZBx.js"),W=$.sep,typeof Y<"u"))return;let e=z,t=await import("./__vite-browser-external-9wXp6ZBx.js"),r=await import("./__vite-browser-external-9wXp6ZBx.js"),a=await import("./__vite-browser-external-9wXp6ZBx.js"),i={fs:e,crypto:t,ws:r,child_process:a};globalThis.require=function(n){return i[n]}}d(B,"initNodeModules");function te(e,t){return $.resolve(t||".",e)}d(te,"node_resolvePath");function re(e,t){return t===void 0&&(t=location),new URL(e,t).toString()}d(re,"browser_resolvePath");var R;g?R=te:R=re;var W;g||(W="/");function ne(e,t){return e.startsWith("file://")&&(e=e.slice(7)),e.includes("://")?{response:fetch(e)}:{binary:C.readFile(e).then(r=>new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}}d(ne,"node_getBinaryResponse");function ie(e,t){let r=new URL(e,location);return{response:fetch(r,t?{integrity:t}:{})}}d(ie,"browser_getBinaryResponse");var L;g?L=ne:L=ie;async function ae(e,t){let{response:r,binary:a}=L(e,t);if(a)return a;let i=await r;if(!i.ok)throw new Error(`Failed to load '${e}': request failed.`);return new Uint8Array(await i.arrayBuffer())}d(ae,"loadBinaryFile");var D;if(Ie)D=d(async e=>await import(e),"loadScript");else if(De)D=d(async e=>{try{globalThis.importScripts(e)}catch(t){if(t instanceof TypeError)await import(e);else throw t}},"loadScript");else if(g)D=oe;else throw new Error("Cannot determine runtime environment");async function oe(e){e.startsWith("file://")&&(e=e.slice(7)),e.includes("://")?ee.runInThisContext(await(await fetch(e)).text()):await import(X.pathToFileURL(e).href)}d(oe,"nodeLoadScript");async function se(e){if(g){await B();let t=await C.readFile(e,{encoding:"utf8"});return JSON.parse(t)}else return await(await fetch(e)).json()}d(se,"loadLockFile");async function ce(){if(K)return __dirname;let e;try{throw new Error}catch(a){e=a}let t=ke.parse(e)[0].fileName;if(g&&!t.startsWith("file://")&&(t=`file://${t}`),Ae){let a=await import("./__vite-browser-external-9wXp6ZBx.js");return(await import("./__vite-browser-external-9wXp6ZBx.js")).fileURLToPath(a.dirname(t))}let r=t.lastIndexOf(W);if(r===-1)throw new Error("Could not extract indexURL path from pyodide module location");return t.slice(0,r)}d(ce,"calculateDirname");function le(e){let t=e.FS,r=e.FS.filesystems.MEMFS,a=e.PATH,i={DIR_MODE:16895,FILE_MODE:33279,mount:function(n){if(!n.opts.fileSystemHandle)throw new Error("opts.fileSystemHandle is required");return r.mount.apply(null,arguments)},syncfs:async(n,o,s)=>{try{let c=i.getLocalSet(n),l=await i.getRemoteSet(n),u=o?l:c,m=o?c:l;await i.reconcile(n,u,m),s(null)}catch(c){s(c)}},getLocalSet:n=>{let o=Object.create(null);function s(u){return u!=="."&&u!==".."}d(s,"isRealDir");function c(u){return m=>a.join2(u,m)}d(c,"toAbsolute");let l=t.readdir(n.mountpoint).filter(s).map(c(n.mountpoint));for(;l.length;){let u=l.pop(),m=t.stat(u);t.isDir(m.mode)&&l.push.apply(l,t.readdir(u).filter(s).map(c(u))),o[u]={timestamp:m.mtime,mode:m.mode}}return{type:"local",entries:o}},getRemoteSet:async n=>{let o=Object.create(null),s=await Le(n.opts.fileSystemHandle);for(let[c,l]of s)c!=="."&&(o[a.join2(n.mountpoint,c)]={timestamp:l.kind==="file"?(await l.getFile()).lastModifiedDate:new Date,mode:l.kind==="file"?i.FILE_MODE:i.DIR_MODE});return{type:"remote",entries:o,handles:s}},loadLocalEntry:n=>{let o=t.lookupPath(n).node,s=t.stat(n);if(t.isDir(s.mode))return{timestamp:s.mtime,mode:s.mode};if(t.isFile(s.mode))return o.contents=r.getFileDataAsTypedArray(o),{timestamp:s.mtime,mode:s.mode,contents:o.contents};throw new Error("node type not supported")},storeLocalEntry:(n,o)=>{if(t.isDir(o.mode))t.mkdirTree(n,o.mode);else if(t.isFile(o.mode))t.writeFile(n,o.contents,{canOwn:!0});else throw new Error("node type not supported");t.chmod(n,o.mode),t.utime(n,o.timestamp,o.timestamp)},removeLocalEntry:n=>{var o=t.stat(n);t.isDir(o.mode)?t.rmdir(n):t.isFile(o.mode)&&t.unlink(n)},loadRemoteEntry:async n=>{if(n.kind==="file"){let o=await n.getFile();return{contents:new Uint8Array(await o.arrayBuffer()),mode:i.FILE_MODE,timestamp:o.lastModifiedDate}}else{if(n.kind==="directory")return{mode:i.DIR_MODE,timestamp:new Date};throw new Error("unknown kind: "+n.kind)}},storeRemoteEntry:async(n,o,s)=>{let c=n.get(a.dirname(o)),l=t.isFile(s.mode)?await c.getFileHandle(a.basename(o),{create:!0}):await c.getDirectoryHandle(a.basename(o),{create:!0});if(l.kind==="file"){let u=await l.createWritable();await u.write(s.contents),await u.close()}n.set(o,l)},removeRemoteEntry:async(n,o)=>{await n.get(a.dirname(o)).removeEntry(a.basename(o)),n.delete(o)},reconcile:async(n,o,s)=>{let c=0,l=[];Object.keys(o.entries).forEach(function(f){let y=o.entries[f],w=s.entries[f];(!w||t.isFile(y.mode)&&y.timestamp.getTime()>w.timestamp.getTime())&&(l.push(f),c++)}),l.sort();let u=[];if(Object.keys(s.entries).forEach(function(f){o.entries[f]||(u.push(f),c++)}),u.sort().reverse(),!c)return;let m=o.type==="remote"?o.handles:s.handles;for(let f of l){let y=a.normalize(f.replace(n.mountpoint,"/")).substring(1);if(s.type==="local"){let w=m.get(y),ge=await i.loadRemoteEntry(w);i.storeLocalEntry(f,ge)}else{let w=i.loadLocalEntry(f);await i.storeRemoteEntry(m,y,w)}}for(let f of u)if(s.type==="local")i.removeLocalEntry(f);else{let y=a.normalize(f.replace(n.mountpoint,"/")).substring(1);await i.removeRemoteEntry(m,y)}}};e.FS.filesystems.NATIVEFS_ASYNC=i}d(le,"initializeNativeFS");var Le=d(async e=>{let t=[];async function r(i){for await(let n of i.values())t.push(n),n.kind==="directory"&&await r(n)}d(r,"collect"),await r(e);let a=new Map;a.set(".",e);for(let i of t){let n=(await e.resolve(i)).join("/");a.set(n,i)}return a},"getFsHandles");function ue(e){let t={noImageDecoding:!0,noAudioDecoding:!0,noWasmDecoding:!1,preRun:he(e),quit(r,a){throw t.exited={status:r,toThrow:a},a},print:e.stdout,printErr:e.stderr,arguments:e.args,API:{config:e},locateFile:r=>e.indexURL+r,instantiateWasm:ye(e.indexURL)};return t}d(ue,"createSettings");function de(e){return function(t){let r="/";try{t.FS.mkdirTree(e)}catch(a){console.error(`Error occurred while making a home directory '${e}':`),console.error(a),console.error(`Using '${r}' for a home directory instead`),e=r}t.FS.chdir(e)}}d(de,"createHomeDirectory");function me(e){return function(t){Object.assign(t.ENV,e)}}d(me,"setEnvironment");function fe(e){return t=>{for(let r of e)t.FS.mkdirTree(r),t.FS.mount(t.FS.filesystems.NODEFS,{root:r},r)}}d(fe,"mountLocalDirectories");function pe(e){let t=ae(e);return r=>{let a=r._py_version_major(),i=r._py_version_minor();r.FS.mkdirTree("/lib"),r.FS.mkdirTree(`/lib/python${a}.${i}/site-packages`),r.addRunDependency("install-stdlib"),t.then(n=>{r.FS.writeFile(`/lib/python${a}${i}.zip`,n)}).catch(n=>{console.error("Error occurred while installing the standard library:"),console.error(n)}).finally(()=>{r.removeRunDependency("install-stdlib")})}}d(pe,"installStdlib");function he(e){let t;return e.stdLibURL!=null?t=e.stdLibURL:t=e.indexURL+"python_stdlib.zip",[pe(t),de(e.env.HOME),me(e.env),fe(e._node_mounts),le]}d(he,"getFileSystemInitializationFuncs");function ye(e){if(typeof WasmOffsetConverter<"u")return;let{binary:t,response:r}=L(e+"pyodide.asm.wasm");return function(a,i){return async function(){try{let n;r?n=await WebAssembly.instantiateStreaming(r,a):n=await WebAssembly.instantiate(await t,a);let{instance:o,module:s}=n;i(o,s)}catch(n){console.warn("wasm instantiation failed!"),console.warn(n)}}(),{}}}d(ye,"getInstantiateWasmFunc");var H="0.27.2";async function we(e={}){var t,r;await B();let a=e.indexURL||await ce();a=R(a),a.endsWith("/")||(a+="/"),e.indexURL=a;let i={fullStdLib:!1,jsglobals:globalThis,stdin:globalThis.prompt?globalThis.prompt:void 0,lockFileURL:a+"pyodide-lock.json",args:[],_node_mounts:[],env:{},packageCacheDir:a,packages:[],enableRunUntilComplete:!1,checkAPIVersion:!0,BUILD_ID:"f88dc4abb40ec8e780c94a5f70bcef45ec9eb3c1aee1c99da527febfef1c6f3f"},n=Object.assign(i,e);(t=n.env).HOME??(t.HOME="/home/pyodide"),(r=n.env).PYTHONINSPECT??(r.PYTHONINSPECT="1");let o=ue(n),s=o.API;if(s.lockFilePromise=se(n.lockFileURL),typeof _createPyodideModule!="function"){let f=`${n.indexURL}pyodide.asm.js`;await D(f)}let c;if(e._loadSnapshot){let f=await e._loadSnapshot;ArrayBuffer.isView(f)?c=f:c=new Uint8Array(f),o.noInitialRun=!0,o.INITIAL_MEMORY=c.length}let l=await _createPyodideModule(o);if(o.exited)throw o.exited.toThrow;if(e.pyproxyToStringRepr&&s.setPyProxyToStringMethod(!0),s.version!==H&&n.checkAPIVersion)throw new Error(`Pyodide version does not match: '${H}' <==> '${s.version}'. If you updated the Pyodide version, make sure you also updated the 'indexURL' parameter passed to loadPyodide.`);l.locateFile=f=>{throw new Error("Didn't expect to load any more file_packager files!")};let u;c&&(u=s.restoreSnapshot(c));let m=s.finalizeBootstrap(u,e._snapshotDeserializer);return s.sys.path.insert(0,s.config.env.HOME),m.version.includes("dev")||s.setCdnUrl(`https://cdn.jsdelivr.net/pyodide/v${m.version}/full/`),s._pyodide.set_excepthook(),await s.packageIndexReady,s.initializeStreams(n.stdin,n.stdout,n.stderr),m}d(we,"loadPyodide");const xe=new SharedArrayBuffer(16),j=new Int32Array(xe),Pe=new SharedArrayBuffer(1),V=new Uint8Array(Pe);let J=0;function p(e){Atomics.store(j,0,0),e.id=J,postMessage(e),Atomics.wait(j,0,0),J++}function Ue(e,t){return e+t}function Te(e,t){return e-t}class q{constructor(t,r,a){v(this,"pin");this.pin=t,p({command:"pin mode",data:{pin:this.pin,mode:r}}),p({command:"pin pull",data:{pin:this.pin,pull:a}})}on(){p({command:"on",data:{pin:this.pin}})}off(){p({command:"off",data:{pin:this.pin}})}toggle(){p({command:"toggle",data:{pin:this.pin}})}value(t=null){if(t===1)p({command:"on",data:{pin:this.pin}});else if(t===0)p({command:"off",data:{pin:this.pin}});else{const r=new Uint8Array(new SharedArrayBuffer(1));return p({command:"value",data:{pin:this.pin,shared:r}}),Atomics.load(r,0)}}}function x(e){return e instanceof q?e.pin:e}class $e{constructor(t,r,a){v(this,"pin");this.pin=x(t),t instanceof q?p({command:"pin mode",data:{pin:this.pin,mode:N.OUT}}):p({command:"pin mode",data:{pin:this.pin,mode:N.OUT}})}freq(t){p({command:"pwm freq",data:{freq:t,pin:this.pin}})}duty_u16(t){p({command:"pwm duty_u16",data:{duty_u16:t,pin:this.pin}})}}const Re={0:[0,4,8,12,16,20],1:[2,6,10,14,18,26]},je={0:[1,5,9,13,17,21],1:[3,7,11,15,19,27]};class Me{constructor(t,r,a,i=4e5,n=5e4){v(this,"id");v(this,"sda");v(this,"scl");v(this,"freq");v(this,"timeout");if(t!==0&&t!==1)throw`I2C(${t}) doesn't exist: only 0 and 1 can be used`;const o=x(r),s=x(a);if(!je[t].includes(s))throw"Bad SCL pin: "+s;if(!Re[t].includes(o))throw"Bad SDA pin: "+o;this.sda=o,this.scl=s,this.id=t,this.freq=i,this.timeout=n}readfrom(t,r){return this.readfrom_mem(t,0,r)}readfrom_into(t,r,a){throw"Not implemented"}readfrom_mem(t,r,a){const i=new SharedArrayBuffer(1+a),n=new Uint8Array(i);return p({command:"i2c readfrom_mem",data:{sda:this.sda,scl:this.scl,addr:t,memaddr:r,nbytes:a,shared:n}}),n}writeto_mem(t,r,a){const i=new Uint8Array(a);p({command:"i2c writefrom_mem",data:{sda:this.sda,scl:this.scl,addr:t,memaddr:r,buf:i}})}writeto(t,r){}scan(){const t=new SharedArrayBuffer(1020),r=new Int32Array(t);p({command:"i2c scan",data:{sda:this.sda,scl:this.scl,shared:r}});const a=Atomics.load(r,0),i=[];return i.toString=function(){return`[${this.join(", ")}]`},a<0||i.push(a),i}toString(){return`I2C(${this.id}, freq=${this.freq}, scl=${this.scl}, sda=${this.sda}, timeout=${this.timeout})`}}class Ce{constructor(t){v(this,"pin");if(this.pin=x(t),this.pin!==26&&this.pin!==27&&this.pin!==28)throw`Pin(${this.pin}) doesn't have ADC capabilities`}read_u16(){const t=new Uint16Array(new SharedArrayBuffer(2));return p({command:"adc read_u16",data:{pin:this.pin,shared:t}}),Atomics.load(t,0)}}const Be=e=>new Ce(e),We={0:5,1:3},qe={0:0,1:2},ze=(e,{sda:t=qe[e],scl:r=We[e],freq:a=4e5,timeout:i=5e4}={})=>new Me(e,t,r,a,i),O=(e,t=N.IN,r=P.NONE)=>new q(e,t,r),He=(e,t,r)=>new $e(e,t,r);O.IN=N.IN;O.OUT=N.OUT;O.PULL_UP=P.UP;O.PULL_DOWN=P.DOWN;const Ve={Pin:O,PWM:He,ADC:Be,I2C:ze},Je={display:e=>{p({command:"display_text",data:{text:e,x:0,y:16}})},clear:()=>{p({command:"clear_display"})},LED:e=>O(e,O.OUT)};async function Ye(){return await fetch("https://raw.githubusercontent.com/Artisan-education/artisan-libs/main/manifest.json").then(t=>t.json()).catch(()=>{})}(async()=>{const e=we({stdout:s=>p({command:"output",data:s+`
\r`})}),t=(async()=>{const s=await Ye(),c=Object.entries(s).map(async([u,m])=>{if(m)try{const y=await(await fetch("https://raw.githubusercontent.com/Artisan-education/artisan-libs/main/"+u)).text();return[u,y]}catch{return null}}),l=await Promise.all(c);return new Map(l.filter(u=>!!u))})(),[r,a]=await Promise.all([e,t]);for(const[s,c]of a){const l=`/home/pyodide/${s}`;try{r.FS.mkdirTree(l.replace(/\/[^/]+$/,"")),r.FS.writeFile(l,c)}catch(u){console.error("Error writing file to Pyodide FS:",s,u)}}const i=new Int32Array(new SharedArrayBuffer(4)),n={sleep:s=>{const c=s*1e3;n.sleep_ms(c)},sleep_ms:s=>{const l=performance.now()+s,u=Math.min(s/20,50);for(;performance.now()<l;){const m=l-performance.now();Atomics.wait(i,0,0,Math.min(u,m)),r.checkInterrupt()}},sleep_us:s=>{n.sleep_ms(s/1e3)},ticks_ms:()=>performance.now(),ticks_us:()=>performance.now()*1e3,ticks_add:Ue,ticks_diff:Te,time:()=>Date.now(),time_ns:()=>performance.now()*1e3*1e3};r.registerJsModule("utime",n),r.registerJsModule("machine",Ve),r.registerJsModule("rtzero",Je),r.setInterruptBuffer(V),r.runPython(`
import time
import utime
time.time = utime.time
time.time_ns = utime.time_ns
time.sleep = utime.sleep
time.sleep_ms = utime.sleep_ms
time.sleep_us = utime.sleep_us
time.ticks_ms = utime.ticks_ms
time.ticks_us = utime.ticks_us
`),self.onmessage=s=>{const{command:c,code:l}=s.data;if(c==="runPython"){if(!r){postMessage({command:"error",error:"Interpreter not initialized"});return}try{r.runPython(l),postMessage({command:"finished"})}catch(u){let m="";if(u instanceof Error){const f=u.message.split(`
`),y=f.findIndex(w=>w.includes("<exec>"));y!==-1?m=f.slice(y).filter(w=>!w.includes("mpWorker.ts")&&!/mpWorker-[A-Za-z0-9]+\.js/.test(w)&&!w.includes("pyodide.asm.js")).join(`
`):m=u.message}else m=String(u);postMessage({command:"error",data:m})}}},postMessage({command:"initialized",data:{sharedArrayInterrupt:V,sharedWakeupArray:j}})})()});export default Ze();
