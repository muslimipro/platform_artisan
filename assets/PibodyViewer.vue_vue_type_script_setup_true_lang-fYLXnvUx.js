import"./vue-codemirror.esm-CdIqRNbs.js";import{S as w}from"./SimulationView-ZxvJJcwn.js";import{a as M,r as c,a3 as _,G as x,b as B,e as g,f as h,g as f,H as y}from"./index-BEuVwAr8.js";const V={class:"h-[calc(100vh-64px)] flex flex-col w-full"},P=M({__name:"PibodyViewer",props:{id:{},content:{},data:{},state:{},starting:{type:Boolean,default:!0},horizontal:{type:Boolean,default:!0}},emits:["run","save-answer"],setup(p,{emit:m}){var d;const t=p,v=m,a=c(""),o=c([]),n=((d=t.data)==null?void 0:d.neededModules)??[];return _(()=>{var e,s,r,u,i;const l=((s=(e=t.state)==null?void 0:e.answer)==null?void 0:s.code)??"";a.value=t.starting||l==""?(r=t.content)==null?void 0:r.starting:l,o.value=((i=(u=t.state)==null?void 0:u.answer)==null?void 0:i.slots)??[]}),x([a,o],()=>{v("save-answer",{code:a.value,slots:o.value})}),(l,e)=>(B(),g("div",V,[h(f(w),{class:"w-full",slots:o.value,"onUpdate:slots":e[0]||(e[0]=s=>o.value=s),autoPut:!0,neededModules:f(n),"onUpdate:neededModules":e[1]||(e[1]=s=>y(n)?n.value=s:null),id:t.id,horizontal:!1},null,8,["slots","neededModules","id"])]))}});export{P as _};
