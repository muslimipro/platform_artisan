import{a as B,R as N,r as n,o as j,b as t,e as o,f as c,k as E,h as e,t as a,P as L,aE as M,F as _,j as b,i as q,x as G,q as P}from"./index-DDfugreB.js";import{s as T}from"./index-DpoQi699.js";import{s as z}from"./index-C4sXkJzK.js";import{h as D}from"./http-C8PwKR2v.js";import{_ as F}from"./AHeader.vue_vue_type_script_setup_true_lang-Doh2dD6u.js";import"./index-DGLb4o6Q.js";import"./index-DY_wf85V.js";import"./index-wA1S81uu.js";import"./logo-D1-3uCnC.js";import"./StudentViewToggle.vue_vue_type_script_setup_true_lang-D86ehj06.js";import"./index-DmcYf408.js";import"./index-W-X6oPzm.js";import"./index-B-78rMor.js";import"./index-7Vxo8o9p.js";import"./index-BNQixFm3.js";import"./index-aGeqj5gI.js";import"./index-CIj8LJiP.js";import"./index-jSrR3wwV.js";import"./profile-BmgO6IWC.js";import"./index-CdRQ17Hd.js";import"./index-Bgicjr-w.js";const S={GetRoadmap:U};async function U(g){const{data:p}=await D.post("/ai/roadmap",{prompt:g});return p}const A={class:"flex flex-col items-center min-h-screen bg-slate-50 gap-6"},I={key:1,class:"flex flex-1 justify-center px-4 md:px-28 py-8"},H={class:"flex gap-8"},J={key:0,class:"flex flex-col"},K={class:"relative flex flex-col justify-between w-[800px] min-h-28 bg-purple-100 border border-gray-100 rounded-3xl p-2 gap-2 shadow-md shadow-purple-300"},O={class:"absolute right-5 bottom-5"},Q={key:1,class:"flex flex-col w-full h-full gap-4"},W={class:"relative flex bg-slate-50 border border-gray-100 rounded-3xl p-5"},X={class:"flex flex-col flex-1"},Y={class:"text-xl font-bold"},Z={key:0,class:"flex flex-col gap-2 w-full"},ee=["disabled"],te={key:1,class:"flex items-center gap-2 text-xl"},oe=["title"],se={class:"relative flex bg-slate-100 border border-gray-100 rounded-3xl p-5 gap-5"},le={class:"bg-white border border-gray-200 rounded-2xl p-4 w-1/3"},ae={class:"font-semibold mb-2"},re={class:"list-disc list-inside space-y-1"},ne=["href"],ie={key:1},de={class:"bg-white border border-gray-200 rounded-2xl p-4 w-2/3"},ce={class:"font-semibold mb-2"},pe={class:"list-decimal list-inside space-y-2"},ue={class:"text-xl font-bold"},qe=B({__name:"CreatorModeView",setup(g){const{t:p}=N(),h=G(),u=n(!0),i=n(!1),m=n(!1),x=n(""),y=n([]),k=n([]),r=n("");async function f(){if(r.value!="")try{i.value=!0;const l=await S.GetRoadmap(r.value);x.value=p("pages.creator.defaultName"),y.value=l.plan,k.value=l.components,u.value=!1,m.value=!1}catch(l){console.error("Error on GetRoadmap",l)}finally{i.value=!1}}return j(()=>{h.query.message&&(r.value=h.query.message,r.value.length>5&&(u.value=!1,f()))}),(l,d)=>{const R=z,V=T,w=P;return t(),o("div",A,[c(F,{class:"sticky top-0 z-10"}),i.value?(t(),E(R,{key:0})):(t(),o("div",I,[e("div",H,[u.value?(t(),o("div",J,[e("div",K,[c(V,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=s=>r.value=s),placeholder:l.$t("pages.creator.placeholder"),variant:"filled",rows:"10",cols:"30",class:"bg-purple-50 w-full rounded-2xl h-36"},null,8,["modelValue","placeholder"]),e("div",O,[c(w,{label:l.$t("pages.creator.getRoadmapLabel"),severity:"help",class:"rounded-2xl bg-purple-400 border border-purple-400",loading:i.value,onClick:f},null,8,["label","loading"])])])])):(t(),o("div",Q,[e("div",W,[e("div",X,[e("h2",Y,a(x.value),1),m.value?(t(),o("div",Z,[L(e("textarea",{"onUpdate:modelValue":d[1]||(d[1]=s=>r.value=s),disabled:i.value,class:"border rounded px-2 py-1 h-[80px] w-full resize-none text-xl disabled:bg-gray-100"},null,8,ee),[[M,r.value]]),c(w,{label:l.$t("pages.creator.modifyRoadmapLabel"),severity:"help",class:"rounded-full bg-purple-400 border border-purple-500 text-sm",loading:i.value,onClick:f},null,8,["label","loading"])])):(t(),o("div",te,[e("span",null,a(r.value),1),e("button",{onClick:d[2]||(d[2]=s=>m.value=!0),class:"text-gray-500 hover:text-purple-500 transition-colors",title:l.$t("pages.creator.modify")}," ✏️ ",8,oe)]))])]),e("div",se,[e("div",le,[e("h3",ae,a(l.$t("pages.creator.components")),1),e("ul",re,[(t(!0),o(_,null,b(k.value,(s,v)=>(t(),o("li",{key:v},[s.url!=""?(t(),o("a",{key:0,href:s.url,target:"_blank",rel:"noopener noreferrer",class:"font-bold"},a(s.name),9,ne)):(t(),o("span",ie,a(s.name),1)),q(" ("+a(s.count)+") ",1)]))),128))])]),e("div",de,[e("h3",ce,a(l.$t("pages.creator.plan")),1),e("div",pe,[(t(!0),o(_,null,b(y.value,(s,v)=>(t(),o("div",{key:v},[e("h2",ue,a(s.name),1),(t(!0),o(_,null,b(s.steps,(C,$)=>(t(),o("div",{key:$},a($+1)+") "+a(C),1))),128))]))),128))])])])]))])]))])}}});export{qe as default};
