import{s as h}from"./index-Cf7vG2py.js";import{a as C,r as g,o as V,b as e,e as c,f as B,h as d,t as a,i as o,w as i,D as l,K as u,g as v,F as N,q as S,l as T,m as w}from"./index-DO_dSR7p.js";import{s as x}from"./index-Mkguro82.js";import{_ as E}from"./AuthHeader.vue_vue_type_script_setup_true_lang-C3eHpKJF.js";import{a as q}from"./http-7nTq_9Vs.js";import"./index-DRYK6pwp.js";import"./index-DH5-czd4.js";import"./logo-D1-3uCnC.js";const A={class:"card flex flex-col items-center pt-4 gap-4"},D={class:"text-2xl"},F={key:0},I={key:1},J=C({__name:"VerifyChangeEmail",setup(M){const _=S(),m=T(),s=g(!1),n=g(null);async function y(){s.value=!0;try{await q.verifyChangeEmail(_.query.token),n.value=!0}catch(t){n.value=!1,console.log(t)}finally{s.value=!1}}return V(()=>{y()}),(t,r)=>{const p=x,f=w,k=h;return e(),c(N,null,[B(E),d("div",A,[d("div",D,a(t.$t("pages.login.emailVerification")),1),s.value?u("",!0):(e(),c("div",F,[n.value==!0?(e(),o(p,{key:0,severity:"success"},{default:i(()=>[l(a(t.$t("pages.login.emailSuccessfullyChangedAndVerified")),1)]),_:1})):(e(),o(p,{key:1,severity:"error"},{default:i(()=>[l(a(t.$t("pages.login.tokenIsInvalidTryAgain")),1)]),_:1}))])),s.value?u("",!0):(e(),c("div",I,[n.value==!0?(e(),o(f,{key:0,onClick:r[0]||(r[0]=$=>v(m).replace("/"))},{default:i(()=>[l(a(t.$t("pages.login.goToHome")),1)]),_:1})):(e(),o(f,{key:1,onClick:r[1]||(r[1]=$=>v(m).replace("/settings/change-email"))},{default:i(()=>[l(a(t.$t("pages.login.goToSettings")),1)]),_:1}))])),s.value?(e(),o(k,{key:2})):u("",!0)])],64)}}});export{J as default};
