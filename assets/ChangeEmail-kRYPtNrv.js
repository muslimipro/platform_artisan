import{s as I}from"./index-MqisFpEi.js";import{s as N}from"./index-DvFSj9mU.js";import{d as S,a as F,ah as T,r as f,aU as U,o as i,c as b,b as s,w as m,e as c,j as u,f as v,g as D,t as M,h as y,F as h,s as j}from"./index-CYUYDN2E.js";import{s as z}from"./index-BanUC7cS.js";import{d as O,s as P,c as R}from"./index-n8pVcVr8.js";import{_ as Y}from"./VerifyEmailDialog.vue_vue_type_script_setup_true_lang-D3OtJ5mB.js";import"./index-B-OoBJQY.js";import"./index-B99X7DoE.js";import"./index-B7NvzflU.js";import"./index-CVg5t83u.js";const q={class:"flex flex-col gap-2"},A={class:"flex gap-2"},G={class:"flex flex-col gap-1"},H={key:1,class:"flex gap-2"},te=S({__name:"ChangeEmail",setup(J){const V=F(),{user:l}=T(V),n=f(""),t=f(!0),p=f(!1);return U(()=>{var a;n.value=((a=l.value)==null?void 0:a.email)??""}),(a,e)=>{const k=O,C=P,x=R,w=z,r=j,B=N,E=I;return i(),b(h,null,[s(E,{class:"flex-grow",header:a.$t("pages.settings.changeEmail")},{default:m(()=>{var d,g,_;return[c("div",q,[c("div",A,[c("div",G,[s(x,null,{default:m(()=>[s(k,{class:"pi pi-envelope"}),s(C,{id:"email",autocomplete:"off",variant:"filled",placeholder:"Email",modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=o=>n.value=o),disabled:t.value,class:"w-96"},null,8,["modelValue","disabled"])]),_:1}),(d=u(l))!=null&&d.verified?y("",!0):(i(),v(w,{key:0,for:"email",severity:"error",size:"small",variant:"simple"},{default:m(()=>[D(M(a.$t("pages.settings.yourEmailIsNotVerified")),1)]),_:1}))]),(g=u(l))!=null&&g.verified?y("",!0):(i(),v(B,{key:0,severity:"danger"},{default:m(()=>[s(r,{label:a.$t("pages.settings.verifyYourEmail"),severity:"info",onClick:e[1]||(e[1]=o=>p.value=!0)},null,8,["label"])]),_:1}))]),t.value?(i(),v(r,{key:0,label:a.$t("pages.settings.editEmail"),class:"w-fit",onClick:e[2]||(e[2]=o=>t.value=!1),disabled:(_=u(l))==null?void 0:_.verified},null,8,["label","disabled"])):(i(),b("div",H,[s(r,{label:"Cancel",class:"w-fit",onClick:e[3]||(e[3]=o=>{var $;t.value=!0,n.value=(($=u(l))==null?void 0:$.email)??""}),variant:"outlined"}),s(r,{label:"Save email",class:"w-fit",onClick:e[4]||(e[4]=o=>t.value=!0)})]))])]}),_:1},8,["header"]),s(Y,{modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=d=>p.value=d)},null,8,["modelValue"])],64)}}});export{te as default};
