import{s as V}from"./index-ULnkE3jq.js";import{a as h,r as g,o as B,b as e,e as c,f as C,h as d,t as s,i as a,w as n,D as l,K as u,g as v,F as N,q as S,l as T,m as w}from"./index-D3Xw5qxA.js";import{s as x}from"./index-Ddejf8YF.js";import{_ as E}from"./AuthHeader.vue_vue_type_script_setup_true_lang-CxXE-cvb.js";import{a as q}from"./http-BF3VYmLO.js";import"./index-BMH0whIo.js";import"./index-BOssJ-l5.js";import"./LocaleSwitcher.vue_vue_type_script_setup_true_lang-B8B4sz21.js";import"./index-DJdLyTK3.js";import"./index-ButxQo1H.js";import"./index-CXIZJphG.js";import"./index-xzdyhczQ.js";import"./index-DRYH8h8X.js";import"./logo-D1-3uCnC.js";const D={class:"card flex flex-col items-center pt-4 gap-4"},F={class:"text-2xl"},I={key:0},M={key:1},X=h({__name:"VerifyEmail",setup(R){const _=S(),m=T(),o=g(!1),r=g(null);async function y(){o.value=!0;try{await q.verifyEmail(_.query.token),r.value=!0}catch(t){r.value=!1,console.log(t)}finally{o.value=!1}}return B(()=>{y()}),(t,i)=>{const p=x,f=w,k=V;return e(),c(N,null,[C(E),d("div",D,[d("div",F,s(t.$t("pages.login.emailVerification")),1),o.value?u("",!0):(e(),c("div",I,[r.value==!0?(e(),a(p,{key:0,severity:"success"},{default:n(()=>[l(s(t.$t("pages.login.emailSuccessfullyVerified")),1)]),_:1})):(e(),a(p,{key:1,severity:"error"},{default:n(()=>[l(s(t.$t("pages.login.tokenIsInvalidTryAgain")),1)]),_:1}))])),o.value?u("",!0):(e(),c("div",M,[r.value==!0?(e(),a(f,{key:0,onClick:i[0]||(i[0]=$=>v(m).replace("/"))},{default:n(()=>[l(s(t.$t("pages.login.goToHome")),1)]),_:1})):(e(),a(f,{key:1,onClick:i[1]||(i[1]=$=>v(m).replace("/settings/change-email"))},{default:n(()=>[l(s(t.$t("pages.login.goToSettings")),1)]),_:1}))])),o.value?(e(),a(k,{key:2})):u("",!0)])],64)}}});export{X as default};
