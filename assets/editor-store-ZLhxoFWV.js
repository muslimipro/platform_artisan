import{ap as j,e as r}from"./index-DQ09DRTx.js";const u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).slice(1));function H(e,n=0){return(u[e[n+0]]+u[e[n+1]]+u[e[n+2]]+u[e[n+3]]+"-"+u[e[n+4]]+u[e[n+5]]+"-"+u[e[n+6]]+u[e[n+7]]+"-"+u[e[n+8]]+u[e[n+9]]+"-"+u[e[n+10]]+u[e[n+11]]+u[e[n+12]]+u[e[n+13]]+u[e[n+14]]+u[e[n+15]]).toLowerCase()}let o;const M=new Uint8Array(16);function T(){if(!o){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");o=crypto.getRandomValues.bind(crypto)}return o(M)}const q=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),c={randomUUID:q};function p(e,n,t){if(c.randomUUID&&!n&&!e)return c.randomUUID();e=e||{};const a=e.random||(e.rng||T)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,H(a)}const B=j("useEditorStore",()=>{const e=r(null),n=r(null),t=r(null),a=r(null),i=r(null);function d(l){e.value=l}function f(l){l!=null&&(e.value=l)}function g(l){e.value!=null&&(e.value.steps=l)}function m(l,s){e.value!=null&&(e.value.steps.push({id:s.id,title:s.title,type:l,progress:"nothing",inner:{contents:[]}}),n.value=e.value.steps.length-1)}function h(l){e.value==null||n.value==null||(e.value.steps[n.value].inner.contents.push({id:p(),type:l,text:l=="text"?"":void 0,src:void 0}),t.value=e.value.steps[n.value].inner.contents.length-1)}function y(l,s,v){e.value==null||n.value==null||t.value==null||(t.value=v,e.value.steps[n.value].inner.contents[t.value].type=="text"&&l!=null?e.value.steps[n.value].inner.contents[t.value].text=l:e.value.steps[n.value].inner.contents[t.value].type=="image"&&s!=null?e.value.steps[n.value].inner.contents[t.value].src=s:e.value.steps[n.value].inner.contents[t.value].type=="video"&&l!=null&&(e.value.steps[n.value].inner.contents[t.value].text=l))}function x(l){e.value==null||n.value==null||e.value.steps[n.value].inner.contents.splice(l,1)}function S(l){if(e.value==null)return;n.value=l;const s=e.value.steps[n.value].inner.contents.length;t.value=s>0?s-1:null}function U(l){e.value==null||n.value==null||(e.value.steps[n.value].inner.starting=l)}function I(l){e.value==null||n.value==null||(e.value.steps[n.value].inner.solution=l)}function w(){e.value==null||n.value==null||(e.value.steps[n.value].inner.options==null&&(e.value.steps[n.value].inner.options=[]),e.value.steps[n.value].inner.options.push({id:p(),text:"",saved:!1,correct:!1}),a.value=e.value.steps[n.value].inner.options.length-1)}function A(l,s,v){e.value==null||n.value==null||a.value==null||e.value.steps[n.value].inner.options!=null&&(a.value=v,e.value.steps[n.value].inner.options[a.value].text=l,e.value.steps[n.value].inner.options[a.value].correct=s)}function D(l){e.value==null||n.value==null||e.value.steps[n.value].inner.options!=null&&(e.value.steps[n.value].inner.options.splice(l,1),e.value.steps[n.value].inner.options.length==0&&(e.value.steps[n.value].inner.options=void 0))}function b(l){e.value==null||n.value==null||(e.value.steps[n.value].inner.answer=l)}function C(){e.value==null||n.value==null||(e.value.steps[n.value].inner.pairs==null&&(e.value.steps[n.value].inner.pairs=[]),e.value.steps[n.value].inner.pairs.push({id:p(),key:"",value:""}),i.value=e.value.steps[n.value].inner.pairs.length-1)}function P(l,s,v){e.value==null||n.value==null||i.value==null||e.value.steps[n.value].inner.pairs!=null&&(i.value=v,e.value.steps[n.value].inner.pairs[i.value].key=l,e.value.steps[n.value].inner.pairs[i.value].value=s)}function R(l){e.value==null||n.value==null||e.value.steps[n.value].inner.pairs!=null&&(e.value.steps[n.value].inner.pairs.splice(l,1),e.value.steps[n.value].inner.pairs.length==0&&(e.value.steps[n.value].inner.pairs=void 0))}function V(l){e.value==null||n.value==null||(e.value.steps[n.value].inner.userAction=l??void 0)}function E(l){e.value==null||n.value==null||(e.value.steps[n.value].inner.platformAction=l??void 0)}function L(l){e.value==null||n.value==null||(e.value.steps[n.value].inner.slots=l??void 0)}function O(l){e.value==null||n.value==null||(e.value.steps[n.value].inner.modules=l??void 0)}function k(){e.value==null||n.value==null||e.value.steps.splice(n.value,1)}return{lesson:e,stepIndex:n,contentIndex:t,optionIndex:a,addLesson:d,setLesson:f,setSteps:g,addStep:m,changeStep:S,addContent:h,saveContent:y,removeContent:x,saveStarting:U,saveSolution:I,addOption:w,saveOption:A,removeOption:D,saveAnswer:b,addPair:C,savePair:P,removePair:R,saveUserAction:V,savePlatformAction:E,saveSlots:L,saveModules:O,removeStep:k}});export{B as u};
