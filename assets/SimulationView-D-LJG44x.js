import{_ as ue,ah as ve,ak as me,a3 as U,ai as K,b1 as ne,B as ge,o as p,c as m,F as T,n as A,k as S,a9 as Z,y as V,a as h,m as C,ab as ce,X as be,d as M,ae as F,f as H,av as pe,h as _,u as s,w as k,b as $,aq as L,s as j,aV as ye,t as R,l as se,A as xe,x as we,q as B,aY as w,af as Se,aw as de,Y as ee,b2 as ze,an as O,ap as J}from"./index-CvScODyK.js";import{k as he,n as fe,r as P,v as G,w as Pe,x as Le,y as ie,z as Te,A as Ee,B as $e,C as Ie,D as ke,E as _e,j as W,_ as Ce,F as Me,G as De,H as Ae,M as E,I as Re,T as Ge}from"./index-D_ttRctw.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as Fe}from"./logo-BuoHMiZU.js";import{P as Ne}from"./pibody-BwAjMvHk.js";var Oe=function(e){var t=e.dt;return`
.p-splitter {
    display: flex;
    flex-wrap: nowrap;
    border: 1px solid `.concat(t("splitter.border.color"),`;
    background: `).concat(t("splitter.background"),`;
    border-radius: `).concat(t("border.radius.md"),`;
    color: `).concat(t("splitter.color"),`;
}

.p-splitter-vertical {
    flex-direction: column;
}

.p-splitter-gutter {
    flex-grow: 0;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1;
    background: `).concat(t("splitter.gutter.background"),`;
}

.p-splitter-gutter-handle {
    border-radius: `).concat(t("splitter.handle.border.radius"),`;
    background: `).concat(t("splitter.handle.background"),`;
    transition: outline-color `).concat(t("splitter.transition.duration"),", box-shadow ").concat(t("splitter.transition.duration"),`;
    outline-color: transparent;
}

.p-splitter-gutter-handle:focus-visible {
    box-shadow: `).concat(t("splitter.handle.focus.ring.shadow"),`;
    outline: `).concat(t("splitter.handle.focus.ring.width")," ").concat(t("splitter.handle.focus.ring.style")," ").concat(t("splitter.handle.focus.ring.color"),`;
    outline-offset: `).concat(t("splitter.handle.focus.ring.offset"),`;
}

.p-splitter-horizontal.p-splitter-resizing {
    cursor: col-resize;
    user-select: none;
}

.p-splitter-vertical.p-splitter-resizing {
    cursor: row-resize;
    user-select: none;
}

.p-splitter-horizontal > .p-splitter-gutter > .p-splitter-gutter-handle {
    height: `).concat(t("splitter.handle.size"),`;
    width: 100%;
}

.p-splitter-vertical > .p-splitter-gutter > .p-splitter-gutter-handle {
    width: `).concat(t("splitter.handle.size"),`;
    height: 100%;
}

.p-splitter-horizontal > .p-splitter-gutter {
    cursor: col-resize;
}

.p-splitter-vertical > .p-splitter-gutter {
    cursor: row-resize;
}

.p-splitterpanel {
    flex-grow: 1;
    overflow: hidden;
}

.p-splitterpanel-nested {
    display: flex;
}

.p-splitterpanel .p-splitter {
    flex-grow: 1;
    border: 0 none;
}
`)},Be={root:function(e){var t=e.props;return["p-splitter p-component","p-splitter-"+t.layout]},gutter:"p-splitter-gutter",gutterHandle:"p-splitter-gutter-handle"},Ue={root:function(e){var t=e.props;return[{display:"flex","flex-wrap":"nowrap"},t.layout==="vertical"?{"flex-direction":"column"}:""]}},Ke=ue.extend({name:"splitter",theme:Oe,classes:Be,inlineStyles:Ue}),Ve={name:"BaseSplitter",extends:ce,props:{layout:{type:String,default:"horizontal"},gutterSize:{type:Number,default:4},stateKey:{type:String,default:null},stateStorage:{type:String,default:"session"},step:{type:Number,default:5}},style:Ke,provide:function(){return{$pcSplitter:this,$parentInstance:this}}};function re(n){return Ye(n)||We(n)||je(n)||He()}function He(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function je(n,e){if(n){if(typeof n=="string")return te(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?te(n,e):void 0}}function We(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ye(n){if(Array.isArray(n))return te(n)}function te(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,l=Array(e);t<e;t++)l[t]=n[t];return l}var Xe={name:"Splitter",extends:Ve,inheritAttrs:!1,emits:["resizestart","resizeend","resize"],dragging:!1,mouseMoveListener:null,mouseUpListener:null,touchMoveListener:null,touchEndListener:null,size:null,gutterElement:null,startPos:null,prevPanelElement:null,nextPanelElement:null,nextPanelSize:null,prevPanelSize:null,panelSizes:null,prevPanelIndex:null,timer:null,mutationObserver:null,data:function(){return{prevSize:null,isRTL:!1}},mounted:function(){this.initializePanels(),this.updateDirection(),this.observeDirectionChanges()},beforeUnmount:function(){this.clear(),this.unbindMouseListeners(),this.mutationObserver&&this.mutationObserver.disconnect()},methods:{updateDirection:function(){this.isRTL=!!this.$el.closest('[dir="rtl"]')},observeDirectionChanges:function(){var e=this,t=document.documentElement,l={attributes:!0,attributeFilter:["dir"]};this.mutationObserver=new MutationObserver(function(){e.updateDirection()}),this.mutationObserver.observe(t,l)},isSplitterPanel:function(e){return e.type.name==="SplitterPanel"},initializePanels:function(){var e=this;if(this.panels&&this.panels.length){var t=!1;if(this.isStateful()&&(t=this.restoreState()),!t){var l=re(this.$el.children).filter(function(r){return r.getAttribute("data-pc-name")==="splitterpanel"}),a=[];this.panels.map(function(r,o){var i=r.props&&r.props.size?r.props.size:null,u=i||100/e.panels.length;a[o]=u,l[o].style.flexBasis="calc("+u+"% - "+(e.panels.length-1)*e.gutterSize+"px)"}),this.panelSizes=a,this.prevSize=parseFloat(a[0]).toFixed(4)}}},onResizeStart:function(e,t,l){this.gutterElement=e.currentTarget||e.target.parentElement,this.size=this.horizontal?ve(this.$el):me(this.$el),l||(this.dragging=!0,this.startPos=this.layout==="horizontal"?e.pageX||e.changedTouches[0].pageX:e.pageY||e.changedTouches[0].pageY),this.prevPanelElement=this.gutterElement.previousElementSibling,this.nextPanelElement=this.gutterElement.nextElementSibling,l?(this.prevPanelSize=this.horizontal?U(this.prevPanelElement,!0):K(this.prevPanelElement,!0),this.nextPanelSize=this.horizontal?U(this.nextPanelElement,!0):K(this.nextPanelElement,!0)):(this.prevPanelSize=100*(this.horizontal?U(this.prevPanelElement,!0):K(this.prevPanelElement,!0))/this.size,this.nextPanelSize=100*(this.horizontal?U(this.nextPanelElement,!0):K(this.nextPanelElement,!0))/this.size),this.prevPanelIndex=t,this.$emit("resizestart",{originalEvent:e,sizes:this.panelSizes}),this.$refs.gutter[t].setAttribute("data-p-gutter-resizing",!0),this.$el.setAttribute("data-p-resizing",!0)},onResize:function(e,t,l){var a,r,o;l?this.horizontal?(r=100*(this.prevPanelSize+t)/this.size,o=100*(this.nextPanelSize-t)/this.size):(r=100*(this.prevPanelSize-t)/this.size,o=100*(this.nextPanelSize+t)/this.size):(this.horizontal?this.isRTL?a=(this.startPos-e.pageX)*100/this.size:a=(e.pageX-this.startPos)*100/this.size:a=(e.pageY-this.startPos)*100/this.size,r=this.prevPanelSize+a,o=this.nextPanelSize-a),this.validateResize(r,o)&&(this.prevPanelElement.style.flexBasis="calc("+r+"% - "+(this.panels.length-1)*this.gutterSize+"px)",this.nextPanelElement.style.flexBasis="calc("+o+"% - "+(this.panels.length-1)*this.gutterSize+"px)",this.panelSizes[this.prevPanelIndex]=r,this.panelSizes[this.prevPanelIndex+1]=o,this.prevSize=parseFloat(r).toFixed(4)),this.$emit("resize",{originalEvent:e,sizes:this.panelSizes})},onResizeEnd:function(e){this.isStateful()&&this.saveState(),this.$emit("resizeend",{originalEvent:e,sizes:this.panelSizes}),this.$refs.gutter.forEach(function(t){return t.setAttribute("data-p-gutter-resizing",!1)}),this.$el.setAttribute("data-p-resizing",!1),this.clear()},repeat:function(e,t,l){this.onResizeStart(e,t,!0),this.onResize(e,l,!0)},setTimer:function(e,t,l){var a=this;this.timer||(this.timer=setInterval(function(){a.repeat(e,t,l)},40))},clearTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},onGutterKeyUp:function(){this.clearTimer(),this.onResizeEnd()},onGutterKeyDown:function(e,t){switch(e.code){case"ArrowLeft":{this.layout==="horizontal"&&this.setTimer(e,t,this.step*-1),e.preventDefault();break}case"ArrowRight":{this.layout==="horizontal"&&this.setTimer(e,t,this.step),e.preventDefault();break}case"ArrowDown":{this.layout==="vertical"&&this.setTimer(e,t,this.step*-1),e.preventDefault();break}case"ArrowUp":{this.layout==="vertical"&&this.setTimer(e,t,this.step),e.preventDefault();break}}},onGutterMouseDown:function(e,t){this.onResizeStart(e,t),this.bindMouseListeners()},onGutterTouchStart:function(e,t){this.onResizeStart(e,t),this.bindTouchListeners(),e.preventDefault()},onGutterTouchMove:function(e){this.onResize(e),e.preventDefault()},onGutterTouchEnd:function(e){this.onResizeEnd(e),this.unbindTouchListeners(),e.preventDefault()},bindMouseListeners:function(){var e=this;this.mouseMoveListener||(this.mouseMoveListener=function(t){return e.onResize(t)},document.addEventListener("mousemove",this.mouseMoveListener)),this.mouseUpListener||(this.mouseUpListener=function(t){e.onResizeEnd(t),e.unbindMouseListeners()},document.addEventListener("mouseup",this.mouseUpListener))},bindTouchListeners:function(){var e=this;this.touchMoveListener||(this.touchMoveListener=function(t){return e.onResize(t.changedTouches[0])},document.addEventListener("touchmove",this.touchMoveListener)),this.touchEndListener||(this.touchEndListener=function(t){e.resizeEnd(t),e.unbindTouchListeners()},document.addEventListener("touchend",this.touchEndListener))},validateResize:function(e,t){if(e>100||e<0||t>100||t<0)return!1;var l=ne(this.panels[this.prevPanelIndex],"minSize");if(this.panels[this.prevPanelIndex].props&&l&&l>e)return!1;var a=ne(this.panels[this.prevPanelIndex+1],"minSize");return!(this.panels[this.prevPanelIndex+1].props&&a&&a>t)},unbindMouseListeners:function(){this.mouseMoveListener&&(document.removeEventListener("mousemove",this.mouseMoveListener),this.mouseMoveListener=null),this.mouseUpListener&&(document.removeEventListener("mouseup",this.mouseUpListener),this.mouseUpListener=null)},unbindTouchListeners:function(){this.touchMoveListener&&(document.removeEventListener("touchmove",this.touchMoveListener),this.touchMoveListener=null),this.touchEndListener&&(document.removeEventListener("touchend",this.touchEndListener),this.touchEndListener=null)},clear:function(){this.dragging=!1,this.size=null,this.startPos=null,this.prevPanelElement=null,this.nextPanelElement=null,this.prevPanelSize=null,this.nextPanelSize=null,this.gutterElement=null,this.prevPanelIndex=null},isStateful:function(){return this.stateKey!=null},getStorage:function(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}},saveState:function(){ge(this.panelSizes)&&this.getStorage().setItem(this.stateKey,JSON.stringify(this.panelSizes))},restoreState:function(){var e=this,t=this.getStorage(),l=t.getItem(this.stateKey);if(l){this.panelSizes=JSON.parse(l);var a=re(this.$el.children).filter(function(r){return r.getAttribute("data-pc-name")==="splitterpanel"});return a.forEach(function(r,o){r.style.flexBasis="calc("+e.panelSizes[o]+"% - "+(e.panels.length-1)*e.gutterSize+"px)"}),!0}return!1},resetState:function(){this.initializePanels()}},computed:{panels:function(){var e=this,t=[];return this.$slots.default().forEach(function(l){e.isSplitterPanel(l)?t.push(l):l.children instanceof Array&&l.children.forEach(function(a){e.isSplitterPanel(a)&&t.push(a)})}),t},gutterStyle:function(){return this.horizontal?{width:this.gutterSize+"px"}:{height:this.gutterSize+"px"}},horizontal:function(){return this.layout==="horizontal"},getPTOptions:function(){var e;return{context:{nested:(e=this.$parentInstance)===null||e===void 0?void 0:e.nestedState}}}}},qe=["onMousedown","onTouchstart","onTouchmove","onTouchend"],Je=["aria-orientation","aria-valuenow","onKeydown"];function Qe(n,e,t,l,a,r){return p(),m("div",V({class:n.cx("root"),style:n.sx("root"),"data-p-resizing":!1},n.ptmi("root",r.getPTOptions)),[(p(!0),m(T,null,A(r.panels,function(o,i){return p(),m(T,{key:i},[(p(),S(Z(o),{tabindex:"-1"})),i!==r.panels.length-1?(p(),m("div",V({key:0,ref_for:!0,ref:"gutter",class:n.cx("gutter"),role:"separator",tabindex:"-1",onMousedown:function(c){return r.onGutterMouseDown(c,i)},onTouchstart:function(c){return r.onGutterTouchStart(c,i)},onTouchmove:function(c){return r.onGutterTouchMove(c,i)},onTouchend:function(c){return r.onGutterTouchEnd(c,i)},"data-p-gutter-resizing":!1},n.ptm("gutter")),[h("div",V({class:n.cx("gutterHandle"),tabindex:"0",style:[r.gutterStyle],"aria-orientation":n.layout,"aria-valuenow":a.prevSize,onKeyup:e[0]||(e[0]=function(){return r.onGutterKeyUp&&r.onGutterKeyUp.apply(r,arguments)}),onKeydown:function(c){return r.onGutterKeyDown(c,i)},ref_for:!0},n.ptm("gutterHandle")),null,16,Je)],16,qe)):C("",!0)],64)}),128))],16)}Xe.render=Qe;var Ze={root:function(e){var t=e.instance;return["p-splitterpanel",{"p-splitterpanel-nested":t.isNested}]}},et=ue.extend({name:"splitterpanel",classes:Ze}),tt={name:"BaseSplitterPanel",extends:ce,props:{size:{type:Number,default:null},minSize:{type:Number,default:null}},style:et,provide:function(){return{$pcSplitterPanel:this,$parentInstance:this}}},nt={name:"SplitterPanel",extends:tt,inheritAttrs:!1,data:function(){return{nestedState:null}},computed:{isNested:function(){var e=this;return this.$slots.default().some(function(t){return e.nestedState=t.type.name==="Splitter"?!0:null,e.nestedState})},getPTOptions:function(){return{context:{nested:this.isNested}}}}};function st(n,e,t,l,a,r){return p(),m("div",V({ref:"container",class:n.cx("root")},n.ptmi("root",r.getPTOptions)),[be(n.$slots,"default")],16)}nt.render=st;const it={key:0,class:"material-icons"},rt={key:1,class:"material-icons"},ot=M({__name:"IdeButtons",setup(n){const e=he(),t=fe(),{isProject:l,filePath:a,fileContent:r,fileTree:o}=F(e),{openFile:i}=e;let u=null;H(()=>{l.value||(u=setInterval(()=>{localStorage.setItem("fileContent",r.value)},1e3))}),pe(()=>{u&&clearInterval(u)});async function c(){const x=await $e();if(x&&(await Ie(x,t.write,()=>{l.value&&(a.value="",r.value=""),o.value={name:"empty",path:"",children:[]}}),t.clear(),l.value)){const d=await ke();i("/main.py",d),o.value=await _e()}}function b(){P.value?(Te(),l.value&&(a.value="",r.value="",o.value={name:"empty",path:"",children:[]})):c()}const v=_(!1);function y(){Ee(r.value)}return(x,d)=>{const f=j;return p(),m("div",null,[s(P)?(p(),S(f,{key:0,id:"#run",type:"button",class:"w-9 h-9 mr-1",variant:s(G)||!s(P)?"outlined":void 0,severity:"info",rounded:"",onClick:y,disabled:s(G)||!s(P),loading:s(G)},{default:k(()=>d[5]||(d[5]=[h("span",{class:"material-icons"},"play_arrow",-1)])),_:1},8,["variant","disabled","loading"])):C("",!0),s(P)?(p(),S(f,{key:1,type:"button",class:"w-9 h-9 mr-1",variant:!s(G)||!s(P)?"outlined":void 0,severity:"danger",rounded:"",onClick:d[0]||(d[0]=z=>s(Pe)()),disabled:!s(G)||!s(P)},{default:k(()=>d[6]||(d[6]=[h("span",{class:"material-icons"},"stop",-1)])),_:1},8,["variant","disabled"])):C("",!0),s(P)?(p(),S(f,{key:2,type:"button",class:"w-9 h-9",variant:"outlined",severity:"secondary",rounded:"",onClick:d[1]||(d[1]=z=>s(Le)(s(a),s(r))),disabled:s(ie)||s(G)||!s(P),loading:s(ie)},{default:k(()=>d[7]||(d[7]=[h("span",{class:"material-icons"},"save",-1)])),_:1},8,["disabled","loading"])):C("",!0),$(f,{type:"button",class:L(["w-9 h-9 mr-1 text-white",s(P)?v.value?"bg-red-500":"bg-green-500":"bg-gray-600"]),rounded:"",text:"",onClick:d[2]||(d[2]=z=>b()),onMouseover:d[3]||(d[3]=z=>v.value=!0),onMouseleave:d[4]||(d[4]=z=>v.value=!1)},{default:k(()=>[v.value&&s(P)?(p(),m("span",it,"close")):(p(),m("span",rt,"cable"))]),_:1},8,["class"])])}}}),lt={class:"relative flex h-full"},at={class:"absolute bottom-2 left-2"},ut={class:"material-icons"},ct={class:"material-icons"},Dt=M({__name:"CodeView",props:{disabled:{type:Boolean,default:!1}},emits:["run","stop"],setup(n,{emit:e}){const t=n,l=W(),{isLoading:a,isStopping:r,isRunning:o,isConnected:i}=F(l),u=e;function c(){i.value?l.run():l.connect(),u("run")}function b(){l.stop(),u("stop")}const v=he(),{fileContent:y}=F(v);return(x,d)=>{const f=j;return p(),m("div",lt,[$(Ce,{modelValue:s(y),"onUpdate:modelValue":d[0]||(d[0]=z=>ye(y)?y.value=z:null),disabled:t.disabled},null,8,["modelValue","disabled"]),d[1]||(d[1]=h("div",{id:"#editor",class:"absolute top-10 left-10"},null,-1)),h("div",at,[$(f,{id:"#run",type:"button",class:"w-9 h-9 mr-1",severity:"info",rounded:"",onClick:c,disabled:s(a)||s(o)},{default:k(()=>[h("span",ut,R(s(a)?"hourglass_top":"play_arrow"),1)]),_:1},8,["disabled"]),$(f,{type:"button",class:"w-9 h-9 mr-1",variant:s(o)?void 0:"outlined",severity:"danger",rounded:"",onClick:b,disabled:!s(o)||!s(i)},{default:k(()=>[h("span",ct,R(s(r)?"hourglass_top":"stop"),1)]),_:1},8,["variant","disabled"])]),s(Me)?(p(),S(ot,{key:0,class:"absolute bottom-2 right-2"})):C("",!0)])}}}),pt={class:"flex flex-col h-full"},dt={class:"flex px-2 w-full bg-zinc-900 text-white h-6 justify-between items-center"},ht=M({__name:"TerminalView",setup(n){const e=_(!1),t=fe(),{output:l}=F(t);function a(o){let i=o.key;if(i==="Enter")i=`
\r`;else if(i==="Backspace")i="\b";else if(i.length>1)return;De(i)}const r=_(null);return H(()=>{t.openTerminal(r.value)}),(o,i)=>{const u=j;return p(),m("div",pt,[h("div",dt,[i[4]||(i[4]=h("span",{class:"material-icons"},"terminal",-1)),$(u,{onClick:i[0]||(i[0]=c=>s(t).clear()),class:"w-4 h-4 text-white",link:""},{default:k(()=>i[3]||(i[3]=[h("span",{class:"material-icons",style:{"font-size":"16px"}},"cleaning_services",-1)])),_:1})]),h("pre",{class:"h-full font-mono overflow-auto p-2 text-white bg-black",ref_key:"el",ref:r,tabindex:"0",onKeydown:a,onFocus:i[1]||(i[1]=c=>e.value=!0),onBlur:i[2]||(i[2]=c=>e.value=!1)},[i[5]||(i[5]=se("")),h("span",null,R(s(l)),1),h("span",{class:L([{caret:e.value},"bg-white"])}," ",2),i[6]||(i[6]=se(`
    `))],544)])}}}),At=Y(ht,[["__scopeId","data-v-094662a6"]]),ft=["width","height"],D=12,vt=M({__name:"Display",setup(n){const e=_(112),t=_(160),l=_(null),a=_(null),r=_(0),o=Ae();o.text||(o.text="");function i(b){const v=b.deltaY>0?1:-1;r.value+=v*D,r.value=Math.max(0,r.value);const{lines:y,visibleLines:x}=u();r.value=Math.min(y.length*D,r.value),c(y,x)}function u(){const b=[];let v=0;return a.value&&o.text&&(String(o.text).split(`
`).forEach(x=>{let d="";x.split(" ").forEach(z=>{const N=d+z+" ";a.value.measureText(N).width>e.value?(b.push(d),d=z+" "):d=N}),b.push(d)}),v=Math.ceil(t.value/D)),{lines:b,visibleLines:v}}function c(b,v){if(a.value){a.value.fillStyle="#FFFFFF",a.value.fillRect(0,0,e.value,t.value),a.value.fillStyle=String(o.textColor)||"#000000",a.value.font="12px Monaco";const y=Math.floor(r.value/D);for(let x=0;x<v;x++){const d=y+x;if(d<b.length){const f=(x+1)*D-r.value%D;a.value.fillText(b[d],0,f)}}}}return xe(()=>[o.text,o.textColor],()=>{const{lines:b,visibleLines:v}=u();r.value=Math.max(0,(b.length-v)*D),c(b,v)}),H(async()=>{if(await we(),!!l.value&&(a.value=l.value.getContext("2d"),a.value)){a.value.fillStyle="#FFFFFF",a.value.fillRect(0,0,e.value,t.value);const{lines:b,visibleLines:v}=u();r.value=0,c(b,v)}}),(b,v)=>(p(),m("div",{class:"display-container",onWheel:i},[h("canvas",{ref_key:"canvas",ref:l,width:e.value,height:t.value,style:{border:"1px solid black",width:"112px",height:"160px"}},null,8,ft)],32))}}),mt=Y(vt,[["__scopeId","data-v-d6c963bd"]]),oe=M({__name:"PinInfo",props:{pin:{},withPin:{},isLeft:{type:Boolean}},setup(n){const e={0:[{color:"rgb(87,176,54)",name:"GP0"},{color:"rgb(0,159,217)",name:"I2C0 SDA"}],1:[{color:"rgb(87,176,54)",name:"GP1"},{color:"rgb(0,159,217)",name:"I2C0 SCL"}],2:[{color:"rgb(87,176,54)",name:"GP2"},{color:"rgb(0,159,217)",name:"I2C1 SDA"}],3:[{color:"rgb(87,176,54)",name:"GP3"},{color:"rgb(0,159,217)",name:"I2C1 SCL"}],28:[{color:"rgb(87,176,54)",name:"GP28"},{color:"rgb(0,129,55)",name:"ADC2"}],22:[{color:"rgb(87,176,54)",name:"GP22"}],4:[{color:"rgb(87,176,54)",name:"GP4"},{color:"rgb(0,159,217)",name:"I2C0 SDA"}],5:[{color:"rgb(87,176,54)",name:"GP5"},{color:"rgb(0,159,217)",name:"I2C0 SCL"}],6:[{color:"rgb(87,176,54)",name:"GP6"},{color:"rgb(0,159,217)",name:"I2C1 SDA"}],7:[{color:"rgb(87,176,54)",name:"GP7"},{color:"rgb(0,159,217)",name:"I2C1 SCL"}],26:[{color:"rgb(87,176,54)",name:"GP26"},{color:"rgb(0,129,55)",name:"ADC1"},{color:"rgb(0,159,217)",name:"I2C1 SDA"}],27:[{color:"rgb(87,176,54)",name:"GP27"},{color:"rgb(0,129,55)",name:"ADC0"},{color:"rgb(0,159,217)",name:"I2C1 SCL"}]},t={NO:"rgb(0,2,253)",IN:"rgb(254,101,0)",OUT:"rgb(1,169,0)"},l=B(()=>{let r=n.pin.state.toFixed(2);return n.pin.mode===E.IN&&n.withPin.mode!==E.IN?r="~":n.pin.mode===E.IN&&n.withPin.mode===E.IN&&(r=n.withPin.state.toFixed(2)),r}),a=B(()=>{let r=n.pin.state;return n.pin.mode===E.IN&&n.withPin.mode===E.OUT?r=0:n.pin.mode===E.IN&&n.withPin.mode===E.IN&&(r=n.withPin.state),{background:`rgb(${255*r}, 0, 0)`}});return(r,o)=>(p(),m(T,null,[h("div",{class:L(["flex",r.isLeft?"flex-row":"flex-row-reverse"])},[(p(!0),m(T,null,A(e[r.pin.id],i=>(p(),m("div",{style:w({background:i.color}),class:"text-center font-mono px-1 mr-1"},R(i.name),5))),256))],2),h("div",{class:L(["flex my-1 mb-3",r.isLeft?"flex-row":"flex-row-reverse"])},[h("div",{style:w({background:`${t[s(E)[r.pin.mode]]}`}),class:"text-center px-4 mr-1 rounded-lg"},R(s(E)[r.pin.mode]),5),h("div",{style:w(a.value),class:"text-center px-4 mr-1 rounded-lg bg-black"},R(l.value),5)],2)],64))}}),gt=M({__name:"Slot",props:{slot:{},index:{}},setup(n){const{isOutside:e}=Re(Se("theref")),t=W(),{maxAreaIndex:l,fromSlotIndex:a,settings:r}=F(t),o=n.index<3;return(i,u)=>(p(),m(T,null,[h("div",{ref:"theref",class:L(["absolute w-20 h-20 border rounded-lg text-center",[{"bg-green-200/[0.5]":s(l)==i.index,"bg-blue-200/[0.5]":s(a)==i.index},i.slot.class]]),style:w([i.slot.style,{left:i.slot.x+"px",top:i.slot.y+"px"}])},[!s(e)&&s(r).showPinInfo?(p(),m("div",{key:0,class:"absolute w-48 text-white flex flex-col text-xs",style:w(o?"left:100%":"right:100%")},[$(oe,{pin:i.slot.pin2,withPin:i.slot.with.pin2,isLeft:o},null,8,["pin","withPin"]),$(oe,{pin:i.slot.pin3,withPin:i.slot.with.pin3,isLeft:o},null,8,["pin","withPin"])],4)):C("",!0)],6),s(e)?C("",!0):(p(),S(de,{key:0,to:"#pibody"}))],64))}}),bt={xmlns:"http://www.w3.org/2000/svg",class:"absolute pointer-events-none z-10"},yt=["points","stroke"],Q=3,le=14,ae=10,xt=M({__name:"Connector",props:{start:{},end:{}},setup(n){const e=W(),t=n,l=B(()=>{const{start:o,end:i}=t,u=40,c=[o];return c.push({x:o.x,y:o.y-u}),c.push({x:(i.x+o.x)/2,y:o.y-u}),c.push({x:(i.x+o.x)/2,y:i.y-i.yOffset}),c.push({x:i.x,y:i.y-i.yOffset}),c.push(i),c}),a=[{color:"orange",offset:-Q,end:-le/2},{color:"red",offset:0,end:0},{color:"saddlebrown",offset:Q,end:le/2}],r=B(()=>{const o=l.value,i=[];return a.forEach(u=>{const c=u.offset,b=u.end;let v="";for(let d=0;d<o.length-2;d++){const f=o[d];v+=`${f.x-c},${f.y-c} `}const y=o[o.length-2];v+=`${y.x+c},${y.y-c} `;const x=o[o.length-1];v+=`${x.x+b},${x.y+3} `,i.push({color:u.color,points:v})}),i});return B(()=>{const o=[t.start.x,t.end.x],i=[t.start.y,t.end.y];l.value.length===3&&(o.push(l.value[1].x),i.push(l.value[1].y));const u=Math.min(...o)-ae,c=Math.min(...i)-ae;return{minX:u,minY:c,width:100,height:100}}),(o,i)=>(p(),m(T,null,[h("div",{class:"absolute bg-black cursor-move z-10",style:w({left:t.end.x-12+"px",top:t.end.y+"px",width:t.end.w+"px",height:t.end.h+"px"}),onPointerdown:[i[0]||(i[0]=ee(u=>u.preventDefault(),["prevent"])),i[1]||(i[1]=u=>s(e).moveConnector(t,u))]},null,36),(p(),m("svg",bt,[(p(!0),m(T,null,A(r.value,(u,c)=>(p(),m("polyline",{key:c,points:u.points,stroke:u.color,fill:"none","stroke-width":Q,"stroke-linejoin":"round","stroke-linecap":"round"},null,8,yt))),128))]))],64))}}),wt=Y(xt,[["__scopeId","data-v-b3f72209"]]),St={id:"emulator",class:"h-full parent relative flex flex-col items-center border-t border-surface overflow-auto select-none"},zt={id:"pibody",class:"relative h-[450px] flex-shrink-0 max-h-[calc(100%-100px)] overflow-auto w-[450px]"},Pt={class:"absolute top-4 right-1 flex flex-col gap-1"},Lt={class:"material-icons"},Tt={id:"module-list",class:"relative h-full w-full"},Et={class:"max-h-fit w-full overflow-auto flex flex-wrap gap-2 justify-center items-start mt-2",style:{"touch-action":"none",padding:"15px 0 15px 0"}},$t=M({__name:"SimulationView",setup(n){const e=W(),{isConnected:t,toDelete:l,slots:a,moduleComponents:r,modules:o,pinConnectors:i,isConnect8or9:u,chosenPin8or9:c,pin8:b,pin9:v,settings:y}=F(e);e.connect(),pe(()=>{e.stop()});let x=[""];return ze(()=>{x=e.slotHasList(),e.clearSlots()}),H(()=>{e.putModuleList(x)}),(d,f)=>{const z=Fe,N=j,X=Ge;return p(),m("div",St,[h("div",zt,[$(z,{src:s(Ne),width:"384px",draggable:"false",class:"absolute pt-4 min-w-[384px]",style:{left:"32px",top:"0px"}},null,8,["src"]),$(mt,{class:"absolute top-[217px] left-[168px] w-[112px] h-[160px]"}),h("div",Pt,[O((p(),S(N,{type:"button",class:L(["w-9 h-9 mr-1",s(y).showPinInfo?"bg-green-500":"bg-gray-500"]),rounded:"",onClick:f[0]||(f[0]=g=>s(e).setSettings({showPinInfo:!s(y).showPinInfo}))},{default:k(()=>[h("span",Lt,R((s(y).showPinInfo,"help_center")),1)]),_:1},8,["class"])),[[X,`Pin Information: ${s(y).showPinInfo?"On":"Off"}`,void 0,{left:!0}]]),O((p(),S(N,{type:"button",class:"w-9 h-9 mr-1 bg-gray-500",rounded:"",onClick:f[1]||(f[1]=g=>s(e).reset())},{default:k(()=>f[4]||(f[4]=[h("span",{class:"material-icons"},"restart_alt",-1)])),_:1})),[[X,"Reset pibody",void 0,{left:!0}]])]),(p(!0),m(T,null,A(s(a),(g,I)=>(p(),S(gt,{slot:g,index:I},null,8,["slot","index"]))),256)),s(t)?(p(),m("div",{key:0,class:"absolute bg-black",style:w({left:s(e).usb.x+"px",top:s(e).usb.y-70+"px",width:s(e).usb.w+"px",height:s(e).usb.h+50+"px"})},null,4)):C("",!0),h("div",{class:"absolute",style:w({left:s(e).onLED.x+"px",top:s(e).onLED.y+"px",width:s(e).onLED.w+"px",height:s(e).onLED.h+"px"})},null,4),O(h("div",{class:"absolute flex items-center justify-center animate-bounce-up z-10 pointer-events-none",style:w({left:s(e).helpArrows[8].x+"px",top:s(e).helpArrows[8].y+"px"})},[h("span",{class:L(["icon-arrow-down text-5xl",[s(c)===s(b)?"text-green-500":"text-gray-500",s(e).helpArrows[8].class]]),style:w(s(e).helpArrows[8].style)},null,6),f[5]||(f[5]=h("span",{class:"absolute text-white font-bold -mt-2"},"8",-1))],4),[[J,s(e).helpArrows[8].visible||s(u)]]),O(h("div",{class:"absolute flex items-center justify-center animate-bounce-down z-10 pointer-events-none",style:w({left:s(v).x-10+"px",top:s(v).y+8+"px"})},[h("span",{class:L(["icon-arrow-up text-5xl",s(c)===s(v)?"text-green-500":"text-gray-500"])},null,2),f[6]||(f[6]=h("span",{class:"absolute text-white font-bold -mt-2"},"9",-1))],4),[[J,s(e).helpArrows[9].visible||s(u)]]),(p(!0),m(T,null,A(s(i),g=>(p(),m("div",null,[$(wt,{start:g.start,end:g.end},null,8,["start","end"])]))),256))]),h("div",Tt,[h("div",Et,[(p(!0),m(T,null,A(s(r),g=>(p(),S(Z(g.is),{id:g.id,ref_for:!0,ref:I=>g.ref=I,onPointerdown:[I=>s(e).startDragFromModuleList(g,I),f[2]||(f[2]=ee(I=>I.preventDefault(),["prevent"]))],class:L(["flex-none w-20 h-20 border-sm cursor-move",g.class]),style:w(g.style)},null,40,["id","onPointerdown","class","style"]))),256))]),O(h("div",{class:L(["absolute top-0 left-0 h-full w-full",{"bg-red-500/[0.8]":s(l)}])},f[7]||(f[7]=[h("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},[h("span",{class:"material-icons",style:{"font-size":"100px"}},"delete")],-1)]),2),[[J,s(l)]])]),(p(!0),m(T,null,A(s(o),(g,I)=>(p(),S(de,{defer:"",to:g.dragging?"#emulator":"#pibody",key:g.id},[(p(),S(Z(g.is),{style:w([[g.style,{left:g.x+"px",top:g.y+"px"}],{"touch-action":"none"}]),class:L([g.class,"absolute w-20 h-20 border-sm rounded-xl cursor-move overflow-hidden"]),id:g.id,onPointerdown:[q=>s(e).startDragFromSlot(g,I,g.on,q),f[3]||(f[3]=ee(q=>q.preventDefault(),["prevent"]))]},null,40,["style","class","id","onPointerdown"]))],8,["to"]))),128))])}}}),Rt=Y($t,[["__scopeId","data-v-7a86af13"]]);export{Rt as S,At as T,Dt as _,Xe as a,nt as s};
