import{d as B,r as s,c as F}from"./index-D3Xw5qxA.js";import{v as o}from"./v4-CmTdKEVZ.js";const K=B("useEditorStore",()=>{const e=s(null),l=s(null),t=s(null),i=s(null),v=s(null),r=s(null),p=s(!1),f=s(!1),c=F(()=>p.value||f.value);function h(n){e.value=n}function g(n){p.value=n}function d(n){f.value=n}function m(n){n!=null&&(e.value=n)}function S(n){e.value!=null&&(e.value.steps=n,p.value=!1,f.value=!1)}function x(n){e.value==null||l.value==null||(e.value.steps[l.value].title=n.title,e.value.steps[l.value].inner=n.inner)}function y(n,u){e.value!=null&&(e.value.steps.push({id:u.id,title:u.title,type:n,progress:"nothing",inner:{contents:[],modules:[]},answer:{open:"",question:[]},state:{code:"",stdout:"",slots:[],testsData:[]},access_type:"freemium",accessibility:!0,skip_submit:!1}),l.value=e.value.steps.length-1)}function I(n){e.value==null||l.value==null||(e.value.steps[l.value].inner.contents.push({id:o(),type:n,text:n=="text"?"":void 0,src:void 0}),t.value=e.value.steps[l.value].inner.contents.length-1)}function k(n,u,a){e.value==null||l.value==null||(t.value=a,(e.value.steps[l.value].inner.contents[t.value].type=="text"&&n!=null||e.value.steps[l.value].inner.contents[t.value].type=="video"&&n!=null||e.value.steps[l.value].inner.contents[t.value].type=="tinkercad"&&n!=null)&&(e.value.steps[l.value].inner.contents[t.value].text=n))}function A(n){e.value==null||l.value==null||e.value.steps[l.value].inner.contents.splice(n,1)}function C(n){if(e.value==null)return;l.value=n;const u=e.value.steps[l.value].inner.contents.length;t.value=u>0?u-1:null}function P(){e.value==null||l.value==null||(e.value.steps[l.value].inner.options==null&&(e.value.steps[l.value].inner.options=[]),e.value.steps[l.value].inner.options.push({id:o(),text:"",correct:!1}),i.value=e.value.steps[l.value].inner.options.length-1)}function H(n,u,a){e.value==null||l.value==null||e.value.steps[l.value].inner.options!=null&&(i.value=a,e.value.steps[l.value].inner.options[i.value].text=n,e.value.steps[l.value].inner.options[i.value].correct=u)}function O(n){e.value==null||l.value==null||e.value.steps[l.value].inner.options!=null&&(e.value.steps[l.value].inner.options.splice(n,1),e.value.steps[l.value].inner.options.length==0&&(e.value.steps[l.value].inner.options=void 0))}function T(){e.value==null||l.value==null||(e.value.steps[l.value].inner.pairs==null&&(e.value.steps[l.value].inner.pairs=[]),e.value.steps[l.value].inner.pairs.push({id:o(),key:"",value:""}),v.value=e.value.steps[l.value].inner.pairs.length-1)}function _(n,u,a){e.value==null||l.value==null||e.value.steps[l.value].inner.pairs!=null&&(v.value=a,e.value.steps[l.value].inner.pairs[v.value].key=n,e.value.steps[l.value].inner.pairs[v.value].value=u)}function b(n){e.value==null||l.value==null||e.value.steps[l.value].inner.pairs!=null&&(e.value.steps[l.value].inner.pairs.splice(n,1),e.value.steps[l.value].inner.pairs.length==0&&(e.value.steps[l.value].inner.pairs=void 0))}function E(n){e.value==null||l.value==null||(e.value.steps[l.value].inner.userActions=n??void 0)}function L(n){e.value==null||l.value==null||(e.value.steps[l.value].inner.platformActions=n??void 0)}function q(){e.value==null||l.value==null||(e.value.steps[l.value].inner.highlights==null&&(e.value.steps[l.value].inner.highlights=[]),e.value.steps[l.value].inner.highlights.push({id:o(),module:null,slot:null}),r.value=e.value.steps[l.value].inner.highlights.length-1)}function w(n,u,a){e.value==null||l.value==null||e.value.steps[l.value].inner.highlights!=null&&(r.value=a,e.value.steps[l.value].inner.highlights[r.value].module=n,e.value.steps[l.value].inner.highlights[r.value].slot=u)}function D(n){e.value==null||l.value==null||e.value.steps[l.value].inner.highlights!=null&&(e.value.steps[l.value].inner.highlights.splice(n,1),e.value.steps[l.value].inner.highlights.length==0&&(e.value.steps[l.value].inner.highlights=void 0))}function N(){e.value==null||l.value==null||e.value.steps.splice(l.value,1)}function U(){console.log("add test Not implemented")}function j(n,u){e.value==null||l.value==null||e.value.steps[l.value].inner.tests!=null&&(e.value.steps[l.value].inner.tests[u]=n)}function z(n){e.value==null||l.value==null||e.value.steps[l.value].inner.tests!=null&&e.value.steps[l.value].inner.tests.splice(n,1)}return{lesson:e,stepIndex:l,contentIndex:t,optionIndex:i,saving:c,addLesson:h,setLesson:m,setSteps:S,setStep:x,addStep:y,changeStep:C,addContent:I,saveContent:k,removeContent:A,addOption:P,saveOption:H,removeOption:O,addPair:T,savePair:_,removePair:b,saveUserActions:E,savePlatformActions:L,addHighlight:q,saveHighlight:w,removeHighlight:D,removeStep:N,setCardSaving:g,setStepSaving:d,addTest:U,saveTest:j,removeTest:z}});export{K as u};
